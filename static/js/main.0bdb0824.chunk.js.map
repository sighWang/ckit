{"version":3,"sources":["../../../packages/ckit/dist/helpers/pw.serde.js","../../../packages/ckit/dist/tx-builders/AcpTransferSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferSudtPwBuilder.js","../../../packages/ckit/dist/tx-builders/unipass/config.js","../../../packages/ckit/dist/tx-builders/TransferCkbBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferCkbPwBuilder.js","../../../packages/ckit/dist/tx-builders/MintSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/MintSudtPwBuilder.js","../../../packages/ckit/dist/tx-builders/rc/index.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellBuilder.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellPwBuilder.js","../../../packages/ckit/dist/helpers/Amount.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtPwBuilder.js","../../../packages/ckit/dist/wallets/pw/PwAdapterSigner.js","../../../packages/ckit/dist/wallets/Secp256k1Wallet.js","../../../packages/ckit/dist/wallets/UnipassWallet.js","../../../packages/ckit/dist/wallets/unipass/UnipassAdapter.js","../../../packages/ckit/dist/wallets/RcOwnerWallet.js","../../../packages/ckit/dist/providers/index.js","../../../packages/mercury-client/dist/index.js","../../../packages/ckit/dist/providers/mercury/IndexerCellProvider.js","../../../packages/ckit/dist/providers/CkitProvider.js","../../../packages/ckit/dist/predefined/index.js","../../../packages/ckit/dist/predefined/aggron.js","../../../packages/ckit/dist/predefined/lina.js","hooks/useConfigStorage.tsx","containers/CkitProviderContainer/index.tsx","wallets/ObservableNonAcpPwLockWallet.ts","wallets/ObservableAcpPwLockWallet.ts","wallets/ObservableUnipassWallet.ts","containers/WalletContainer/index.tsx","hooks/useUnipass.tsx","utils/AssetAmount.ts","utils/index.ts","hooks/useSendTransaction.tsx","components/OnLoaded/index.tsx","components/Styled/index.tsx","components/Wallet/WalletConnect.tsx","hooks/useSendIssueTx.tsx","hooks/useAssetMetaStorage.tsx","hooks/useFormValidate.tsx","components/Wallet/WalletChange.tsx","components/Wallet/WalletList.tsx","views/Account/index.tsx","components/Assets/AssetList/AssetBalance.tsx","components/Assets/AssetList/SendButton.tsx","hooks/useSendTransferTx.tsx","components/Assets/AssetList/index.tsx","components/Assets/AddAssetButton.tsx","views/Assets/index.tsx","components/Issue/AssetMetaDisplay.tsx","components/Issue/IssueOperation.tsx","components/Issue/index.tsx","views/Issue/index.tsx","views/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","../../../packages/ckit/dist/utils.js","../../../packages/utils/dist/index.js","../../../packages/ckit/dist/helpers/pw.js","../../../packages/ckit/dist/errors.js","../../../packages/base/dist/index.js","../../../packages/rc-lock/dist/index.js","../../../packages/ckit/dist/tx-builders/AbstractTransactionBuilder.js","../../../packages/ckit/dist/tx-builders/builder-utils.js","../../../packages/ckit/dist/tx-builders/pw/AbstractPwSenderBuilder.js","../../../packages/ckit/dist/wallets/AbstractSingleEntrySigner.js","../../../packages/easy-byte/dist/index.js","../../../packages/ckit/dist/helpers/index.js","../../../packages/ckit/dist/wallets/PwWallet.js","../../../packages/easy-byte/dist/utils.js","../../../packages/rc-lock/dist/generated/rc_udt_info.js","../../../packages/ckit/dist/index.js","../../../packages/ckit/dist/tx-builders/index.js","../../../packages/ckit/dist/providers/mercury/MercuryProvider.js","../../../packages/base/dist/AbstractProvider.js","../../../packages/base/dist/typeid.js","../../../packages/easy-byte/dist/struct.js","../../../packages/base/dist/AbstractWallet.js","../../../packages/utils/dist/debug.js","../../../packages/utils/dist/invariant.js","../../../packages/utils/dist/assertion.js","../../../packages/utils/dist/bytes.js","../../../packages/ckit/dist/wallets/index.js","../../../packages/ckit/dist/wallets/RcInternalSigner.js","../../../packages/rc-lock/dist/generated/rc-lock.js","../../../packages/rc-lock/dist/rc.js"],"names":["Object","defineProperty","exports","value","serialize","tx","raw","inputs","map","item","since","previousOutput","index","txHash","inputCells","lock","args","codeHash","hashType","type","data","getHexData","capacity","amount","toHexString","outPoint","outputs","version","cellDeps","depType","headerDeps","witnessArgs","witnesses","deserialize","_pwCore","Transaction","RawTransaction","toCell","CellDep","DepType","code","depGroup","OutPoint","require","toScript","x","Script","HashType","Cell","Amount","undefined","AcpTransferSudtBuilder","_errors","_AbstractTransactionBuilder","_TransferSudtPwBuilder","AbstractTransactionBuilder","constructor","options","provider","sender","obj","key","super","this","enumerable","configurable","writable","builder","TransferSudtPwBuilder","recipients","find","option","recipient","RecipientSameWithSenderError","address","build","_pw","_utils","_builderUtils","_AbstractPwSenderBuilder","AbstractPwSenderBuilder","containCreateOption","optionsGroupBySudt","Map","forEach","oldRecipientOptions","get","sudt","newRecipientOptions","policy","concat","set","senderSudtInputCells","recipientSudtInputCells","senderSudtOutputCells","recipientSudtOutputCells","optionsOfSameSudt","deduplicateOptions","sudtScript","totalTransferAmount","add","recipientLiveSudtCell","collectUdtCells","boom","recipientSudtInputCell","output","Pw","toPwScript","toPwOutPoint","out_point","output_data","recipientSudtOutputCell","setSUDTAmount","getSUDTAmount","push","String","byteLenOfSudt","getLockscriptArgsLength","parseToScript","toUInt128LE","senderSudtInputCell","toPwCell","cellCapacity","sudtAmount","reduce","input","ZERO","senderSudtOutputCell","sub","baseSudtCellCapacity","cell","gt","senderSudtInputCellsCapacity","sum","senderSudtOutputCellsCapacity","recipientSudtInputCellsCapacity","recipientSudtOutputCellsCapacity","inputsContainedCapacity","outputsContainedCapacity","txWithoutSupplyCapacity","getCellDepsByCells","getWitnessPlaceholder","feeWithoutSupplyCapacity","Builder","calcFee","Number","config","MIN_FEE_RATE","needSupplyCapacityToCreateCell","lt","senderSudtCellToPayFee","gte","senderLockscriptArgsLen","neededSupplyCapacity","byteLenOfCkbLiveCell","supplyCapacityLiveCells","collectCkbLiveCells","supplyCapacityInputCells","capacityChangeCell","txWithSupplyCapacity","fee","changeCapacity","length","existedOption","Error","Array","from","values","getCellDeps","isLina","AggronCellDeps","LinaCellDeps","nets","name","url","model","TransferCkbBuilder","_TransferCkbPwBuilder","some","capacityPolicy","TransferCkbPwBuilder","_rxjs","recipientCreatedCells","filter","acpOptions","recipientAcpCells$","pipe","mergeMap","async","resolved","NoAvailableCellError","toArray","recipientAcpCells","lastValueFrom","createdCapacity","totalCapacity","injectedAcpCapacity","senderCells","senderOutput","acc","MintSudtBuilder","_MintSudtPwBuilder","NonAcpPwMintBuilder","buildPwTransaction","issuerAddress","senderMintedUdtType","newSudtScript","createdRecipientCells","_item$sudt","recipientLockArgsBytesLen","BigInt","additionalCapacity","resolvedFindAcpCells","foundRecipientCells$","_item$sudt2","foundRecipientCells","createdRecipientCellsCapacity","createdCell","foundRecipientCellsAdditionalCapacity","foundCell","neededCapacityFromIssuer","issuerCells","issuerOutput","clone","inputCell","rawTx","_CreateRcUdtInfoCellBuilder","keys","_MintRcUdtBuilder","_rcLock","CreateRcUdtInfoCellBuilder","_CreateRcUdtInfoCellPwBuilder","builtTransaction","CreateRcUdtInfoCellPwBuilder","getTypeHash","rcUdtInfoCell","invariant","toHash","getIssuerLockHash","_base","_dist","_ckbJsToolkit","_helpers","sudtInfo","rcIdentity","udtInfo","SerializeUdtInfo","Reader","fromRawString","toArrayBuffer","symbol","decimals","description","rcUdtInfoCellSize","byteLenOfRcCell","byteLength","ownerRcLock","newScript","bytes","flag","pubkeyHash","ownerRcAddress","parseToAddress","senderOutpoints","CkbAmount","fromCkb","toHex","typeIdScript","generateTypeIdScript","previous_output","rcLockScript","rcInfoCell","formatByteLike","RcSupplyOutputData","encode","current_supply","max_supply","maxSupply","sudt_script_hash","utils","computeScriptHash","fromPwScript","Uint8Array","next","rawTransaction","_bignumber","_defineProperty","BN","val","checkIsAmount","BigNumber","__isCkitAmount__","isInteger","times","pow","bn","humanize","decimalPlaces","Infinity","separator","valWithDecimals","originDecimalPlaces","rounded","Math","min","ROUND_FLOOR","toFormat","toString","new","base","eq","lte","plus","minus","asBN","MintRcUdtBuilder","_MintRcUdtPwBuilder","MintRcUdtPwBuilder","_easyByte","_lodash","_utils2","helper","RcSupplyLockHelper","mercury","rcLock","newScriptTemplate","sudtType","resolvedInfoCells","listCreatedInfoCells","nonNullable","udtType","findOrCreatePolicies","alreadyDetermined","partition","groupByRecipient","groupBy","mergedFindOrCreatePolicies","items","left","right","then","cells","determineFindOrCreate","rc_identity_flag","rc_identity_pubkey_hash","RcSupplyLockArgs","decode","toBuffer","infoCell","capacityProviderAddress","RcIdentityLockArgs","rc_lock_flag","pad0x","byteWidth","mintedSudtAmount","dataBuf","decoded","encoded","write","setHexData","PwAdapterSigner","serializeBigInt","i","view","DataView","ArrayBuffer","setUint32","buffer","rawSigner","hasher","Blake2bHasher","messages","sigs","signerLock","getAddress","sig","signMessage","message","toMessages","signMessages","SerializeWitnessArgs","normalizers","NormalizeWitnessArgs","serializeJson","FillSignedWitnesses","validate","hash","SerializeRawTransaction","NormalizeRawTransaction","transformers","TransformRawTransaction","used","_input","update","firstWitness","j","sameWith","currentWitness","digest","reset","Secp256k1Signer","Secp256k1Wallet","_hd","_AbstractSingleEntrySigner","_classPrivateFieldGet","receiver","privateMap","descriptor","call","_classApplyDescriptorGet","_classExtractFieldDescriptor","_classPrivateFieldSet","TypeError","_classApplyDescriptorSet","action","has","_privateKey","WeakMap","AbstractWallet","privateKey","lockConfig","setDescriptor","features","_privateKey2","AbstractSingleEntrySigner","privateKeyToBlake160","Promise","resolve","signature","signRecoverable","UnipassWallet","_UnipassAdapter","adapterConfig","adapter","UnipassRedirectAdapter","unipassLockArgs","getLockArgs","sign","seal","pubkeyToLockArgs","getRetFromSearchParams","redirect","isUnipassLoginData","isUnipassSigData","pubkey","ckbHash","hexToBytes","slice","check","replace","searchParams","URLSearchParams","location","search","json","res","JSON","parse","info","delete","pathname","host","protocol","window","qs","newUrl","history","replaceState","path","href","setTimeout","_options$host","_options$loginDataCac","loginDataCacheKey","saveLoginInfo","getLoginDataFromUrl","getLoginDataFromCache","hasLoginInfo","hasSigData","_ref","_this$getLoginDataFro","redirectToLogin","_this$getSignatureFro","getSignatureFromUrl","redirectToSign","generateUnipassNewUrl","success_url","_this$getLoginDataFro2","saveLoginDataToCache","localStorage","setItem","stringify","serialized","getItem","loginData","params","urlObj","URL","toLowerCase","entries","RcPwSigner","RcOwnerWallet","_PwWallet","describeFeatures","ethProvider","detect","selectedAddress","request","method","addListener","signer","emitChangedSigner","emitConnectStatusChanged","rcOwnerLockArgs","RcIdentityFlag","ETH","getRcIdentity","signedMessage","personalSign","v","parseInt","padStart","SerializeRcLockWitnessLock","_MercuryProvider","_CkitProvider","MercuryClient","_clientJs","uri","transport","HTTPTransport","headers","client","Client","RequestManager","get_cells","payload","search_key","order","limit","after_cursor","get_tip","MercuryCellProvider","collector","queries","searchKey","script","script_type","queryData","collect","Symbol","asyncIterator","liveCells","objects","cell_output","block_number","CkitProvider","MercuryProvider","init","getScriptConfig","scriptConfig","configKey","template","code_hash","hash_type","issuer","issuerLockHash","getCellDep","dep","predefined","Aggron","_interopRequireWildcard","Lina","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","__esModule","default","cache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","desc","PREFIX","SCRIPTS","_configManager","SECP256K1_BLAKE160","AGGRON4","ANYONE_CAN_PAY","SUDT","PW_ANYONE_CAN_PAY","CODE_HASH","HASH_TYPE","TX_HASH","INDEX","DEP_TYPE","PW_NON_ANYONE_CAN_PAY","UNIPASS","RC_LOCK","LINA","useConfigStorage","initialConfig","useMemo","ckitConfig","mecuryRPC","ckbRPC","nervosExploreTxUrlPrefix","nervosExploreAddressUrlPrefix","nervosExploreSudtUrlPrefix","useLocalStorage","CkitProviderContainer","createContainer","ckitProvider","setCkitProvider","useState","localConfig","useEffect","ObservableNonAcpPwLockWallet","NonAcpPwLockWallet","makeObservable","connectStatus","observable","ObservableAcpPwLockWallet","AcpPwLockWallet","ObservableUnipassWallet","WalletContainer","useContainer","currentWalletName","setCurrentWalletName","wallets","useLocalObservable","signerAddress","setSignerAddress","error","setError","visible","setVisible","isInitialized","setIsInitialized","setModalVisible","useCallback","runInAction","splice","connect","autorun","wallet","on","remainConnectedWallet","w","connectedWallet","err","currentWallet","displayWalletName","useUnipass","cachedTx","cacheTx","shouldLogin","cacheLogin","shouldSendTx","clearTx","AssetAmount","rawAmount","humanizeAmount","toRawString","toHumanizeString","truncateMiddle","str","start","end","HEX_REGEX","isValidHexString","test","useSendTransaction","useMutation","serializedTx","serde","sendTransaction","onSuccess","Modal","success","title","content","target","rel","onError","errorMsg","width","OnIncomplete","children","isLoaded","setIsLoaded","mutateAsync","txToSend","catch","StyledCardWrapper","styled","div","WalletConnect","observer","size","onClick","CheckCircleTwoTone","useSendIssueTx","recipientsParams","operationKind","helpers","useAssetMetaStorage","initialAssetMeta","decimal","assetsMeta","setAssetsMeta","addAssetMeta","newValue","useFormValidate","useProvider","validateCkbAddress","e","isLockscriptACP","scripts","validateACPAddress","validateInviteAddress","validateIssueAddress","validateTransferAddress","validateAmount","assetAmount","fromHumanize","isNaN","WalletChange","truncatedAddress","style","marginTop","marginBottom","span","offset","textAlign","AddressTip","copyable","float","Typography","Text","ModalBorderWrapper","WalletList","closable","onCancel","footer","pagination","dataSource","renderItem","Item","WalletListItem","props","UsbOutlined","SyncOutlined","spin","AccountView","Title","level","paddingTop","AssetBalance","query","useQuery","getUdtBalance","getCkbLiveCellsBalance","enabled","isError","fromRaw","LoadingOutlined","SendButton","issuableSudtScript","isMint","buttonContent","disabled","isLoading","ModalForm","assetMeta","sendTransferTransaction","isTransferLoading","useSendTransferTx","sendIssueTransaction","isIssueLoading","onSubmit","loading","formik","useFormik","initialValues","errors","recipientError","amountError","resetForm","justify","align","htmlFor","id","placeholder","getFieldProps","touched","submitForm","AssetList","columns","render","record","showHeader","pageSize","AddAssetButton","buttonProps","setSubmitting","newAssetMeta","onChange","setFieldValue","onBlur","handleBlur","Group","handleChange","AssetsView","icon","PlusCircleOutlined","fontSize","AssetMetaDisplay","scriptHash","ScriptTip","Link","IssueOperation","setOperationKind","recipientFieldDisplayName","inviteRecipient","issueRecipient","IssueArea","udtScript","IssueView","isSupportIssue","checkSupported","AppView","BodyWrapper","className","App","queryClient","QueryClient","QueryClientProvider","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","unimplemented","asyncSleep","ms","randomHexString","lengthWithOut0x","floor","random","join","bytesToHex","b","hex","match","startsWith","byte","asserts","condition","_debug","debug","createDebugger","_invariant","_assertion","_bytes","fromPwCellDep","dep_type","tx_hash","toPwCellDep","fromPwCell","getData","isLumosCell","NoEnoughUdtError","NoEnoughCkbError","CkitError","metadata","expected","actual","_ScriptManager","ScriptManager","_AbstractProvider","AbstractProvider","ProviderConfig","InitOptions","_AbstractWallet","_exportNames","UdtInfo","_rc_udt_info","_rc","deserialized","lockArgsByteLen","typeArgsByteLen","dataLen","_config","getCellDepByKey","getCellDepByScript","foundEntry","keyToTemplate","uniqWith","flatMap","dep1","dep2","outputCells","inputLockAndTypeScripts","outputTypeScripts","isTemplateOf","repeat","input_type","output_type","_PwAdapterSigner","_options$hasher","signed","TransformTransaction","_struct","_Amount","hashMessage","InternalNonAcpPwLockSigner","_detectProvider","_secp256k","ethereum","AbstractPwWallet","addresses","isArray","produceSigner","disconnect","removeEventListener","listener","enable","AbstractPwSigner","ethereumProvider","result","Platform","eth","Keccak256Hasher","getEthAddress","publicKeyCreate","startsWith0x","rm0x","safePadZero","prependZeroToEvenLength","convertEndian","toUnfixedBuffer","toFixedBuffer","byteSize","_buffer","le","isEvenLength","isUnfixed","padEvenLength","expectedByteStringLength","padEnd","reverse","byteString","Buffer","shouldPad0x","isBuffer","unfixed","unfixedSize","alloc","fn","fn1","fn2","dataLengthError","required","assertDataLength","assertArrayBuffer","reader","verifyAndExtractOffsets","expectedFieldCount","compatible","requiredByteLength","getUint32","firstOffset","itemCount","offsets","serializeTable","buffers","totalSize","array","SerializeUTF8Bytes","SerializeUint128","SerializeByte32","SerializeUdtCellData","versionView","setUint8","udt_info","UdtCellData","Byte32","Uint128","UTF8Bytes","indexAt","getUint8","getDecimals","offset_end","getName","getSymbol","getDescription","decimalsView","getVersion","getCurrentSupply","getMaxSupply","getSudtScriptHash","getUdtInfo","_predefined","_wallets","_providers","_txBuilders","SerializedTx","DeserializedTx","_AcpTransferSudtBuilder","_TransferCkbBuilder","_MintSudtBuilder","_rpc","_mercuryClient","_IndexerCellProvider","mercuryRpc","ckbRpc","RPC","rpc","minimalCapacity","output_data_len_range","cells$","expand","last_cursor","takeWhile","concatMap","scan","defaultValue","balance$","balance","getTxPoolInfo","tx_pool_info","getChainInfo","get_blockchain_info","send_transaction","udt","minimalAmount","resolvedCell","toBigUInt128LE","pollIntervalMs","timeoutMs","Date","now","_tx$tx_status","get_transaction","tx_status","status","transaction","rpcTip","get_tip_block_number","mercuryTip","asIndexerCellProvider","_typeid","newTypeIdScript","outputIndex","findCellDepByAddress","scriptConfigs","findIndex","found","findCellDepByScript","initialized","min_fee_rate","isMainnet","chain","txPoolInfo","generateAddress","parseAddress","generateTypeID","toBigUInt64LE","num","buf","writeBigUInt64LE","ab","outPointBuf","core","SerializeCellInput","NormalizeCellInput","outputIndexBuf","ckbHasher","CKBHasher","digestHex","createField","createFixedStruct","FixedStruct","U128BE","U128LE","I128BE","I128LE","U64BE","U64LE","I64BE","I64LE","U32BE","U32LE","I32BE","I32LE","U16BE","U16LE","I16BE","I16LE","U8","I8","createReader","fnName","createWriter","read","fields","field","namedField","parsed","bigIntReader","signMask","bigIntWriter","_eventemitter","event","emitter","isDisconnected","tryConnect","emitError","removeAllListeners","feature","includes","getConnectStatus","getSigner","emit","namespace","_tinyInvariant","padToEven","hexStringLike","hexes","internal","_RcOwnerWallet","_RcInternalSigner","_Secp256k1Wallet","_UnipassWallet","RcSecp256k1Signer","RcEthSigner","RCLockSigner","RC_MODE","CKB","getAddressByMode","ACP","mode","pubKeykHash","substring","rc_args","PUBKEY_HASH","reject","_privateKey3","ethAddress","SerializeIdentity","SerializeRcIdentity","SerializeRcIdentityOpt","SerializeBytesOpt","rc_identity","preimage","SerializeScriptVec","SerializeScriptVecOpt","SerializeXudtWitnessInput","raw_extension_data","SerializeBytesVec","extension_data","SerializeRCRule","SerializeRCCellVec","SerializeRCData","itemBuffer","SerializeSmtProof","SerializeSmtProofEntry","SerializeSmtProofEntryVec","SerializeSmtUpdateItem","SerializeSmtUpdateItemVec","SerializeSmtUpdateAction","updates","proof","SerializeXudtData","SerializeBytes","SerializeUint32","SerializeUint64","SerializeUint256","SerializeByte32Vec","SerializeScriptOpt","SerializeProposalShortId","SerializeUncleBlockVec","SerializeTransactionVec","SerializeProposalShortIdVec","SerializeCellDepVec","SerializeCellInputVec","SerializeCellOutputVec","SerializeScript","SerializeOutPoint","SerializeCellOutput","SerializeCellDep","SerializeTransaction","SerializeRawHeader","SerializeHeader","SerializeUncleBlock","SerializeBlock","header","uncles","transactions","proposals","SerializeCellbaseWitness","WitnessArgs","CellbaseWitness","Block","UncleBlock","Header","RawHeader","CellOutput","CellInput","CellOutputVec","CellInputVec","CellDepVec","ProposalShortIdVec","TransactionVec","UncleBlockVec","ProposalShortId","ScriptOpt","Byte32Vec","BytesVec","BytesOpt","Bytes","Uint256","Uint64","Uint32","XudtData","SmtUpdateAction","SmtUpdateItemVec","SmtUpdateItem","SmtProofEntryVec","SmtProofEntry","SmtProof","RCData","RCCellVec","RCRule","XudtWitnessInput","ScriptVecOpt","ScriptVec","RcLockWitnessLock","RcIdentityOpt","RcIdentity","Identity","getIdentity","getProofs","identity","proofs","hasValue","getSignature","getPreimage","len","getRawExtensionData","getExtensionData","getSmtRoot","getFlags","smt_root","flags","t","unionType","getMask","getProof","maskView","mask","getKey","getPackedValues","packed_values","getUpdates","getLock","toBigEndianUint32","toLittleEndianUint32","getCodeHash","getHashType","getArgs","hashTypeView","getTxHash","getIndex","getSince","getPreviousOutput","getCapacity","getType","type_","getOutPoint","getDepType","getHeaderDeps","getInputs","getOutputs","getOutputsData","cell_deps","header_deps","outputs_data","getRaw","getWitnesses","getCompactTarget","getTimestamp","getNumber","getEpoch","getParentHash","getTransactionsRoot","getProposalsHash","getUnclesHash","getDao","compact_target","timestamp","number","epoch","parent_hash","transactions_root","proposals_hash","uncles_hash","dao","getNonce","nonce","getHeader","getProposals","getUncles","getTransactions","getMessage","getInputType","getOutputType","convertToRcIdentityFlag","convertToSudtSupplyInfo","convertToSudtInfo","RcLockFlag","_operators","readUInt8","outputData","fixedDataLen","currentSupply","type_id_hash","udtId","indexer","SUPPLY_MASK","supplyCells$","newRcSupplyLockScript","infoLock"],"mappings":"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","file":"static/js/main.0bdb0824.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serialize = serialize;\nexports.deserialize = deserialize;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nfunction serialize(tx) {\n  const raw = tx.raw;\n  return {\n    raw: {\n      inputs: raw.inputs.map(item => ({\n        since: item.since,\n        previousOutput: {\n          index: item.previousOutput.index,\n          txHash: item.previousOutput.txHash\n        }\n      })),\n      inputCells: raw.inputCells.map(item => ({\n        lock: {\n          args: item.lock.args,\n          codeHash: item.lock.codeHash,\n          hashType: item.lock.hashType\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        },\n        data: item.getHexData(),\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        outPoint: {\n          txHash: item.outPoint.txHash,\n          index: item.outPoint.index\n        }\n      })),\n      outputs: raw.outputs.map(item => ({\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        data: item.getHexData(),\n        lock: {\n          args: item.lock.args,\n          hashType: item.lock.hashType,\n          codeHash: item.lock.codeHash\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        }\n      })),\n      version: raw.version,\n      cellDeps: raw.cellDeps.map(item => ({\n        depType: item.depType,\n        outPoint: {\n          index: item.outPoint.index,\n          txHash: item.outPoint.txHash\n        }\n      })),\n      headerDeps: raw.headerDeps\n    },\n    witnessArgs: tx.witnessArgs,\n    witnesses: tx.witnesses\n  };\n}\n\nfunction toScript(x) {\n  return new _pwCore.Script(x.codeHash, x.args, x.hashType === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction toCell(x) {\n  return new _pwCore.Cell(new _pwCore.Amount(x.capacity.amount, 0), toScript(x.lock), x.type ? toScript(x.type) : undefined, 'outPoint' in x && x.outPoint ? new _pwCore.OutPoint(x.outPoint.txHash, x.outPoint.index) : undefined, x.data);\n}\n\nfunction deserialize(tx) {\n  const raw = tx.raw;\n  return new _pwCore.Transaction(new _pwCore.RawTransaction(raw.inputCells.map(toCell), raw.outputs.map(toCell), raw.cellDeps.map(item => new _pwCore.CellDep(item.depType === 'code' ? _pwCore.DepType.code : _pwCore.DepType.depGroup, new _pwCore.OutPoint(item.outPoint.txHash, item.outPoint.index))), raw.headerDeps, raw.version), tx.witnessArgs);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AcpTransferSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferSudtPwBuilder = require(\"./pw/TransferSudtPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AcpTransferSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n\n    _defineProperty(this, \"builder\", void 0);\n\n    this.builder = new _TransferSudtPwBuilder.TransferSudtPwBuilder(options, provider, sender);\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.find(option => option.recipient === this.sender);\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.builder.build();\n  }\n\n}\n\nexports.AcpTransferSudtBuilder = AcpTransferSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferSudtPwBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferSudtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    let containCreateOption = false;\n    const optionsGroupBySudt = new Map();\n    this.options.recipients.forEach(options => {\n      const oldRecipientOptions = optionsGroupBySudt.get(options.sudt.args);\n      const newRecipientOptions = oldRecipientOptions === undefined ? [{\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy\n      }] : oldRecipientOptions.concat({\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy\n      });\n      optionsGroupBySudt.set(options.sudt.args, newRecipientOptions);\n    });\n    const senderSudtInputCells = [];\n    const recipientSudtInputCells = [];\n    const senderSudtOutputCells = [];\n    const recipientSudtOutputCells = [];\n\n    for (const item of optionsGroupBySudt) {\n      let [, optionsOfSameSudt] = item;\n      optionsOfSameSudt = this.deduplicateOptions(optionsOfSameSudt); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n      const sudtScript = optionsOfSameSudt[0].sudt;\n      let totalTransferAmount = new _pwCore.Amount('0', 0); // build sudt cells of recipients\n\n      for (const option of optionsOfSameSudt) {\n        totalTransferAmount = totalTransferAmount.add(new _pwCore.Amount(option.amount, 0));\n\n        if (option.policy === 'findOrCreate') {\n          const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n          option.policy = recipientLiveSudtCell ? 'findAcp' : 'createCell';\n        }\n\n        switch (option.policy) {\n          case 'findAcp':\n            {\n              const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n              if (!recipientLiveSudtCell) (0, _utils.boom)(`recipient ${option.recipient} has no cell to carry the udt`);\n              const recipientSudtInputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), _pw.Pw.toPwOutPoint(recipientLiveSudtCell.out_point), recipientLiveSudtCell.output_data);\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), undefined, recipientLiveSudtCell.output_data);\n              recipientSudtOutputCell.setSUDTAmount(recipientSudtOutputCell.getSUDTAmount().add(new _pwCore.Amount(option.amount, 0)));\n              recipientSudtInputCells.push(recipientSudtInputCell);\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n\n          case 'createCell':\n            {\n              containCreateOption = true;\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount('1').add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(option.recipient))))), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient)), _pw.Pw.toPwScript(sudtScript), undefined, new _pwCore.Amount(option.amount, 0).toUInt128LE());\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n        }\n      } // build sudt cells of sender\n\n\n      const senderLiveSudtCells = await this.provider.collectUdtCells(this.sender, sudtScript, totalTransferAmount.toHexString());\n      const senderSudtInputCell = senderLiveSudtCells.map(_pw.Pw.toPwCell);\n      senderSudtInputCells.push(...senderSudtInputCell);\n      const [cellCapacity, sudtAmount] = senderSudtInputCell.reduce(([cellCapacity, sudtAmount], input) => {\n        cellCapacity = cellCapacity.add(input.capacity);\n        sudtAmount = sudtAmount.add(input.getSUDTAmount());\n        return [cellCapacity, sudtAmount];\n      }, [_pwCore.Amount.ZERO, _pwCore.Amount.ZERO]);\n      const senderSudtOutputCell = new _pwCore.Cell(cellCapacity, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].lock, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].type, undefined, sudtAmount.toUInt128LE());\n      senderSudtOutputCell.setSUDTAmount(senderSudtOutputCell.getSUDTAmount().sub(totalTransferAmount));\n      senderSudtOutputCells.push(senderSudtOutputCell);\n    } // supply capacity from sudt cells prior if need create cell\n\n\n    if (containCreateOption) {\n      const baseSudtCellCapacity = new _pwCore.Amount('1').add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(this.sender)))));\n      senderSudtOutputCells.forEach(cell => {\n        if (cell.capacity.gt(baseSudtCellCapacity)) {\n          cell.capacity = baseSudtCellCapacity;\n        }\n      });\n    }\n\n    const senderSudtInputCellsCapacity = senderSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const senderSudtOutputCellsCapacity = senderSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtInputCellsCapacity = recipientSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtOutputCellsCapacity = recipientSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputsContainedCapacity = recipientSudtInputCellsCapacity.add(senderSudtInputCellsCapacity);\n    const outputsContainedCapacity = recipientSudtOutputCellsCapacity.add(senderSudtOutputCellsCapacity);\n    const txWithoutSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells), this.getCellDepsByCells(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells))), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const feeWithoutSupplyCapacity = _pwCore.Builder.calcFee(txWithoutSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    const needSupplyCapacityToCreateCell = containCreateOption && inputsContainedCapacity.lt(outputsContainedCapacity.add(feeWithoutSupplyCapacity));\n    const senderSudtCellToPayFee = senderSudtOutputCells.find(cell => cell.capacity.sub(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(this.sender))))).gte(feeWithoutSupplyCapacity));\n    const needSupplyCapacityToFindAcp = !containCreateOption && !senderSudtCellToPayFee; // build tx with extra capacity cell supplied\n    // needSupplyCapacityToCreateCell: supply (created cell capacity) + (tx fee) from (sender sudt cells) + (extra capacity cells)\n    // needSupplyCapacityToFindAcp: supply (tx fee) from (extra capacity cells)\n\n    if (needSupplyCapacityToCreateCell || needSupplyCapacityToFindAcp) {\n      const senderLockscriptArgsLen = this.getLockscriptArgsLength(this.sender);\n      const outputsNeededCapacity = outputsContainedCapacity // additional 61 ckb to ensure capacity is enough for change cell\n      .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)(senderLockscriptArgsLen)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n      // but the real fee will be calculated based on feeRate\n      .add(new _pwCore.Amount('1'));\n      const neededSupplyCapacity = outputsNeededCapacity.sub(inputsContainedCapacity);\n      const supplyCapacityLiveCells = await this.provider.collectCkbLiveCells(this.sender, neededSupplyCapacity.toHexString());\n      const supplyCapacityInputCells = supplyCapacityLiveCells.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n      const capacityChangeCell = _pw.Pw.toPwCell(supplyCapacityLiveCells[0]);\n\n      capacityChangeCell.capacity = supplyCapacityInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n      const inputCells = senderSudtInputCells.concat(recipientSudtInputCells).concat(supplyCapacityInputCells);\n      const outputs = senderSudtOutputCells.concat(recipientSudtOutputCells).concat([capacityChangeCell]);\n      const txWithSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs)), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n      const fee = _pwCore.Builder.calcFee(txWithSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n      capacityChangeCell.capacity = capacityChangeCell.capacity.sub(fee).add(inputsContainedCapacity).sub(outputsContainedCapacity);\n      return txWithSupplyCapacity;\n    } // build tx without extra capacity cell supplied\n    // supply created cell capacity and tx fee from sender sudt cells\n\n\n    if (containCreateOption) {\n      const changeCapacity = inputsContainedCapacity.sub(outputsContainedCapacity).sub(feeWithoutSupplyCapacity); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n      senderSudtOutputCells[0].capacity = senderSudtOutputCells[0].capacity.add(changeCapacity);\n      return txWithoutSupplyCapacity;\n    } // build tx without extra capacity cell supplied\n    // supply tx fee from sender sudt cells\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n\n    senderSudtCellToPayFee.capacity = senderSudtCellToPayFee.capacity.sub(feeWithoutSupplyCapacity);\n    return txWithoutSupplyCapacity;\n  }\n\n  getLockscriptArgsLength(address) {\n    return (this.provider.parseToScript(address).args.length - 2) / 2;\n  }\n\n  deduplicateOptions(options) {\n    const deduplicateOptions = new Map();\n    options.forEach(option => {\n      const existedOption = deduplicateOptions.get(option.recipient);\n\n      if (existedOption) {\n        if (existedOption.policy !== option.policy) throw new Error('error: same recipient and sudt, but different policy');\n        existedOption.amount = new _pwCore.Amount(existedOption.amount, 0).add(new _pwCore.Amount(option.amount, 0)).toHexString();\n      } else {\n        deduplicateOptions.set(option.recipient, option);\n      }\n    });\n    return Array.from(deduplicateOptions.values());\n  }\n\n}\n\nexports.TransferSudtPwBuilder = TransferSudtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCellDeps = getCellDeps;\nexports.nets = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\n// TODO\n//  unipass is not open source at this stage,\n//  there is only some sample code, when unipass is open source, you need to replace these codes\nconst nets = [// {\n//   name: '',\n//   url: 'http://localhost:3000/'\n// },\n{\n  name: 'dev',\n  url: 'https://id.unipass.vip',\n  model: 1\n}, {\n  name: 'Aggron-Preview',\n  url: 'https://t.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina-Preview',\n  url: 'https://rc.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina',\n  url: 'https://unipass.xyz'\n}];\nexports.nets = nets;\nconst AggronCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x04a1ac7fe15e454741d3c5c9a409efb9a967714ad2f530870514417978a9f655', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x3d41e1c543f0fddcbb17157d15a2845d7c5fb0363561cd8f50ecd0e118b34f84', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xd346695aa3293a84e9f985448668e9692892c959e7e83d6d8042e59c08b8cf5c', '0x0'))];\nconst LinaCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1a04142a2a745fb3b7e0e9b61241676c1c94ad8cdacb36f223661130a23fb007', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xf247a0e9dfe9d559ad8486428987071b65d441568075465c2810409e889f4081', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1196caaf9e45f1959ea3583f92914ee8306d42e27152f7068f9eeb52ac23eeae', '0x0'))];\n\nfunction getCellDeps(isLina = false) {\n  let data = AggronCellDeps;\n  if (isLina) data = LinaCellDeps;\n  return data;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferCkbPwBuilder = require(\"./pw/TransferCkbPwBuilder\");\n\n// just for testing case, do not use it\nclass TransferCkbBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy === 'findAcp');\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    const builder = new _TransferCkbPwBuilder.TransferCkbPwBuilder(this.options, this.provider, this.sender);\n    return builder.build();\n  }\n\n}\n\nexports.TransferCkbBuilder = TransferCkbBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbPwBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferCkbPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const recipientCreatedCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(item.amount, 0), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient))));\n    const acpOptions = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const recipientAcpCells$ = (0, _rxjs.from)(acpOptions).pipe((0, _rxjs.mergeMap)(async item => {\n      const resolveds = await this.provider.collectCkbLiveCells(item.recipient, '0');\n      const resolved = resolveds[0];\n      if (!resolved) throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(item.recipient)\n      }); // increase capacity\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.amount, 0));\n      return cell;\n    }), (0, _rxjs.toArray)());\n    const recipientAcpCells = await (0, _rxjs.lastValueFrom)(recipientAcpCells$);\n    const createdCapacity = recipientCreatedCells.reduce((totalCapacity, cell) => totalCapacity.add(cell.capacity), _pwCore.Amount.ZERO);\n    const injectedAcpCapacity = acpOptions.reduce((totalCapacity, item) => totalCapacity.add(new _pwCore.Amount(item.amount, 0)), _pwCore.Amount.ZERO);\n    const senderOutpoints = await this.provider.collectCkbLiveCells(this.sender, injectedAcpCapacity.add(createdCapacity) // 61 ckb to ensure change cell capacity is enough\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).toHexString());\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n\n    if (!senderCells.length || !senderCells[0]) {\n      throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(this.sender)\n      });\n    } // accumulate all sender capacity into one cell\n\n\n    const senderOutput = senderCells[0];\n    senderOutput.capacity = senderCells.reduce((acc, cell) => acc.add(cell.capacity), new _pwCore.Amount('0', 0));\n    const inputCells = [...senderCells, ...recipientAcpCells];\n    const outputs = [senderOutput, ...recipientAcpCells, ...recipientCreatedCells];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs)), [this.getWitnessPlaceholder(this.sender)]);\n    const fee = TransferCkbPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(createdCapacity).sub(injectedAcpCapacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.TransferCkbPwBuilder = TransferCkbPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _MintSudtPwBuilder = require(\"./pw/MintSudtPwBuilder\");\n\nclass MintSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async buildPwTransaction() {\n    const builder = new _MintSudtPwBuilder.NonAcpPwMintBuilder(this.options, this.provider, this.sender);\n    return await builder.build();\n  }\n\n  async build() {\n    const mintToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy !== 'createCell');\n    if (mintToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.buildPwTransaction();\n  }\n\n}\n\nexports.MintSudtBuilder = MintSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonAcpPwMintBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass NonAcpPwMintBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, issuerAddress) {\n    super(provider);\n    this.options = options;\n    this.issuerAddress = issuerAddress;\n  }\n\n  async build() {\n    const senderMintedUdtType = this.provider.newSudtScript(this.issuerAddress); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => {\n      var _item$sudt;\n\n      const recipientLockArgsBytesLen = (this.provider.parseToScript(item.recipient).args.length - 2) / 2;\n      return new _pwCore.Cell(new _pwCore.Amount(String(BigInt(item.additionalCapacity || 0)), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(recipientLockArgsBytesLen)))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n      _pw.Pw.toPwScript((_item$sudt = item.sudt) !== null && _item$sudt !== void 0 ? _item$sudt : senderMintedUdtType), // issued sudt type\n      undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE());\n    }); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      var _item$sudt2;\n\n      const resolved = (await this.provider.collectUdtCells(item.recipient, (_item$sudt2 = item.sudt) !== null && _item$sudt2 !== void 0 ? _item$sudt2 : senderMintedUdtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: senderMintedUdtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$);\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n    const neededCapacityFromIssuer = createdRecipientCellsCapacity.add(foundRecipientCellsAdditionalCapacity) // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(this.issuerAddress, neededCapacityFromIssuer.toHexString());\n    const issuerCells = issuerOutpoints.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const issuerOutput = issuerCells[0].clone();\n    issuerOutput.capacity = issuerCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = [...issuerCells, ...foundRecipientCells];\n    const outputs = [issuerOutput, ...createdRecipientCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, outputs, this.getCellDepsByCells(inputCells, outputs));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(this.issuerAddress)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    issuerOutput.capacity = issuerOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.NonAcpPwMintBuilder = NonAcpPwMintBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CreateRcUdtInfoCellBuilder = require(\"./CreateRcUdtInfoCellBuilder\");\n\nObject.keys(_CreateRcUdtInfoCellBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CreateRcUdtInfoCellBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CreateRcUdtInfoCellBuilder[key];\n    }\n  });\n});\n\nvar _MintRcUdtBuilder = require(\"./MintRcUdtBuilder\");\n\nObject.keys(_MintRcUdtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MintRcUdtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintRcUdtBuilder[key];\n    }\n  });\n});\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nObject.keys(_rcLock).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _rcLock[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rcLock[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _CreateRcUdtInfoCellPwBuilder = require(\"./CreateRcUdtInfoCellPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * ```yaml\n * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u8\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\nclass CreateRcUdtInfoCellBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n\n    _defineProperty(this, \"builtTransaction\", undefined);\n  }\n\n  async build() {\n    this.builtTransaction = await new _CreateRcUdtInfoCellPwBuilder.CreateRcUdtInfoCellPwBuilder(this.options, this.provider).build();\n    return this.builtTransaction;\n  }\n  /**\n   * the type hash is used as udt id\n   */\n\n\n  getTypeHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.type.toHash();\n  }\n\n  getIssuerLockHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.lock.toHash();\n  }\n\n}\n\nexports.CreateRcUdtInfoCellBuilder = CreateRcUdtInfoCellBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellPwBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _dist = require(\"@ckitjs/easy-byte/dist\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nclass CreateRcUdtInfoCellPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async build() {\n    const {\n      sudtInfo,\n      rcIdentity\n    } = this.options;\n    const provider = this.provider;\n    const udtInfo = (0, _rcLock.SerializeUdtInfo)({\n      name: _ckbJsToolkit.Reader.fromRawString(sudtInfo.name).toArrayBuffer(),\n      symbol: _ckbJsToolkit.Reader.fromRawString(sudtInfo.symbol).toArrayBuffer(),\n      decimals: sudtInfo.decimals,\n      description: _ckbJsToolkit.Reader.fromRawString(sudtInfo.description).toArrayBuffer()\n    });\n    const rcUdtInfoCellSize = (0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    + 32\n    /*typeid script hash*/\n    , 32, 1\n    /*version*/\n    + 16\n    /*current supply*/\n    + 16\n    /*max supply*/\n    + 32\n    /* sudt script hash*/\n    + udtInfo.byteLength\n    /*udt info molecule table*/\n    );\n    const ownerRcLock = provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, 0));\n    const ownerRcAddress = provider.parseToAddress(ownerRcLock);\n    const senderOutpoints = await provider.collectCkbLiveCells(ownerRcAddress, _helpers.CkbAmount.fromCkb((0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    , 0, 0) + // owner live cell\n    rcUdtInfoCellSize + // udt cell\n    1 // tx fee\n    ).toHex());\n    (0, _utils.invariant)(senderOutpoints[0]);\n\n    const typeIdScript = _pw.Pw.toPwScript(provider.generateTypeIdScript({\n      previous_output: senderOutpoints[0].out_point,\n      since: '0x0'\n    }, '0x0'));\n\n    const rcLockScript = _pw.Pw.toPwScript(provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, '08'\n    /*supply flag: 0b100*/\n    , typeIdScript.toHash())));\n\n    const rcInfoCell = new _pwCore.Cell(new _pwCore.Amount(String(rcUdtInfoCellSize), 8), rcLockScript, typeIdScript, undefined, _utils.bytes.concat((0, _dist.formatByteLike)(_rcLock.RcSupplyOutputData.encode({\n      version: 0,\n      current_supply: 0n,\n      max_supply: BigInt(sudtInfo.maxSupply),\n      sudt_script_hash: _base.utils.computeScriptHash(provider.newSudtScript(_pw.Pw.fromPwScript(rcLockScript)))\n    })), (0, _dist.formatByteLike)(new Uint8Array(udtInfo))));\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n    const senderOutput = senderCells[0];\n    (0, _utils.invariant)(senderOutput);\n    senderOutput.capacity = senderCells.reduce((acc, next) => acc.add(next.capacity), new _pwCore.Amount('0'));\n    const rawTransaction = new _pwCore.RawTransaction(senderCells, [rcInfoCell, senderOutput], this.getCellDepsByCells(senderCells, [rcInfoCell, senderOutput]));\n    const tx = new _pwCore.Transaction(rawTransaction, [this.getWitnessPlaceholder(provider.parseToAddress(provider.newScript('RC_LOCK')))]);\n    const fee = CreateRcUdtInfoCellPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(new _pwCore.Amount(String(rcUdtInfoCellSize), 8)).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.CreateRcUdtInfoCellPwBuilder = CreateRcUdtInfoCellPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CkbAmount = exports.Amount = void 0;\n\nvar _bignumber = require(\"bignumber.js\");\n\nvar _utils = require(\"../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction BN(val) {\n  if (typeof val === 'bigint') return new _bignumber.BigNumber(String(val));\n  if (Amount.checkIsAmount(val)) return new _bignumber.BigNumber(String(val));\n  return new _bignumber.BigNumber(val);\n}\n\nclass Amount {\n  static checkIsAmount(x) {\n    if (typeof x !== 'object') return false;\n    if (x == null) return false;\n    return '__isCkitAmount__' in x && x.__isCkitAmount__;\n  }\n  /**\n   *\n   * @param value\n   * @param decimals\n   * @example\n   * ```ts\n   * Amount.from(1).eq(1) // true\n   * Amount.from(1, 8).eq(1_00000000) // true\n   * ```\n   */\n\n\n  static from(value, decimals = 0) {\n    if (decimals < 0 || !Number.isInteger(decimals)) (0, _utils.boom)('The decimal not valid');\n    if (typeof value === 'bigint') return new Amount(BN(value * 10n ** BigInt(decimals)));\n    if (!decimals) return new Amount(BN(value));\n    return new Amount(BN(value).times(BN(10).pow(decimals)));\n  }\n  /**\n   * value without decimals\n   * @private\n   */\n\n\n  constructor(bn) {\n    _defineProperty(this, \"__isCkitAmount__\", true);\n\n    _defineProperty(this, \"raw\", void 0);\n\n    if (!bn.isInteger()) throw new Error('Amount must be an integer');\n    if (bn.lt(0)) throw new Error('Amount must cannot be a negative number');\n    this.raw = new _bignumber.BigNumber(bn);\n  }\n\n  humanize(options) {\n    const {\n      decimalPlaces = Infinity,\n      separator = true,\n      decimals = 0\n    } = options ? options : {};\n    const valWithDecimals = this.raw.times(10 ** -decimals);\n    const originDecimalPlaces = valWithDecimals.decimalPlaces();\n    const rounded = valWithDecimals.decimalPlaces(Math.min(originDecimalPlaces, decimalPlaces), _bignumber.BigNumber.ROUND_FLOOR);\n    if (separator) return rounded.toFormat();\n    return rounded.toString();\n  }\n\n  new(val) {\n    return new Amount(val);\n  }\n\n  toString(base) {\n    return this.raw.toString(base);\n  }\n\n  toHex() {\n    return '0x' + this.toString(16);\n  }\n\n  eq(val) {\n    return this.raw.eq(BN(val));\n  }\n\n  gt(val) {\n    return this.raw.gt(BN(val));\n  }\n\n  gte(val) {\n    return this.raw.gte(BN(val));\n  }\n\n  lt(val) {\n    return this.raw.lt(BN(val));\n  }\n\n  lte(val) {\n    return this.raw.lte(BN(val));\n  }\n\n  plus(val) {\n    return this.new(this.raw.plus(BN(val)));\n  }\n\n  minus(val) {\n    return this.new(this.raw.minus(BN(val)));\n  }\n\n  asBN() {\n    return new _bignumber.BigNumber(this.raw);\n  }\n\n}\n\nexports.Amount = Amount;\n\nclass CkbAmount extends Amount {\n  /**\n   * @deprecated\n   */\n  static from() {\n    throw new Error('Use the Amount.from to instead of');\n  }\n\n  static fromCkb(value) {\n    return new CkbAmount(BN(value).times(10 ** 8));\n  }\n\n  static fromShannon(value) {\n    return new CkbAmount(BN(value));\n  }\n\n  new(val) {\n    return new CkbAmount(val);\n  }\n\n  humanize(options) {\n    return super.humanize({ ...options,\n      decimals: 8\n    });\n  }\n\n}\n\nexports.CkbAmount = CkbAmount;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtBuilder = void 0;\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _MintRcUdtPwBuilder = require(\"./MintRcUdtPwBuilder\");\n\n/**\n * Mint sUDT with RC-Supply-Lock, the capacity provider which is a rc-lock with {@link https://github.com/XuJiandong/docs-bank/blob/master/rc_lock.md#identity RcIdentity},\n */\nclass MintRcUdtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n  }\n\n  build() {\n    return new _MintRcUdtPwBuilder.MintRcUdtPwBuilder(this.options, this.provider).build();\n  }\n\n}\n\nexports.MintRcUdtBuilder = MintRcUdtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtPwBuilder = void 0;\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _lodash = require(\"lodash\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nclass MintRcUdtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async determineFindOrCreate() {\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // recipients -> [findOrCreate, findAcp + createCell]\n\n    const [findOrCreatePolicies, alreadyDetermined] = (0, _lodash.partition)(this.options.recipients, item => item.capacityPolicy === 'findOrCreate'); // findOrCreate -> {'addr1': [option1, option2], 'addr2': [option3]}\n\n    const groupByRecipient = (0, _lodash.groupBy)(findOrCreatePolicies, item => item.recipient); // {'addr1': [option1, option2], 'addr2': [option1]} -> [ merge(option1, option2), merge(option3) ]\n\n    const mergedFindOrCreatePolicies = (0, _lodash.map)(groupByRecipient, items => items.reduce((left, right) => ({ ...left,\n      amount: new _pwCore.Amount(left.amount, 0).add(new _pwCore.Amount(right.amount, 0)).toHexString(),\n      additionalCapacity: new _pwCore.Amount(left.additionalCapacity || '0', 0).add(new _pwCore.Amount(right.additionalCapacity || '0', 0)).toHexString()\n    })));\n    const recipients = (0, _rxjs.from)(mergedFindOrCreatePolicies).pipe((0, _rxjs.mergeMap)(item => this.provider.collectUdtCells(item.recipient, udtType, '0').then(cells => ({ ...item,\n      capacityPolicy: cells.length > 0 ? 'findAcp' : 'createCell'\n    })), 5), (0, _rxjs.toArray)());\n    const determinedFindOrUpdatePolicies = await (0, _rxjs.lastValueFrom)(recipients);\n    return determinedFindOrUpdatePolicies.concat(alreadyDetermined);\n  }\n\n  async build() {\n    this.options = { ...this.options,\n      recipients: await this.determineFindOrCreate()\n    };\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n\n    const {\n      rc_identity_flag,\n      rc_identity_pubkey_hash\n    } = _rcLock.RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(rcUdtInfoCell.output.lock.args));\n\n    const infoCell = _pw.Pw.toPwCell(rcUdtInfoCell);\n\n    const capacityProviderAddress = this.provider.parseToAddress(this.provider.newScript('RC_LOCK', (0, _easyByte.formatByteLike)(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag,\n      rc_identity_pubkey_hash,\n      rc_lock_flag: 0\n      /* owner mode */\n\n    }), {\n      pad0x: true\n    })));\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(String(BigInt(item.additionalCapacity || 0)), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)()))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n    _pw.Pw.toPwScript(udtType), // issued sudt type\n    undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE())); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      const resolved = (await this.provider.collectUdtCells(item.recipient, udtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: udtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$); // occupied + additional\n\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n\n    const neededCapacityFromIssuer = _pwCore.Amount.ZERO // createCell pocily needed capcacity\n    .add(createdRecipientCellsCapacity) // findAcp policy needed additional capacity\n    .add(foundRecipientCellsAdditionalCapacity) // additional rc-lock script occupied ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)(_rcLock.RcIdentityLockArgs.byteWidth)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(capacityProviderAddress, neededCapacityFromIssuer.toHexString());\n    const senderCells = issuerOutpoints.map(_pw.Pw.toPwCell); // sender change cell\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const senderOutput = senderCells[0].clone();\n    senderOutput.capacity = senderCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO); // modify current_supply\n\n    const mintedSudtAmount = this.options.recipients.reduce((acc, recipient) => BigInt(recipient.amount) + acc, 0n);\n    const dataBuf = (0, _easyByte.toBuffer)(infoCell.getHexData());\n\n    const decoded = _rcLock.RcSupplyOutputData.decode(dataBuf);\n\n    const encoded = _rcLock.RcSupplyOutputData.encode({ ...decoded,\n      current_supply: decoded.current_supply + mintedSudtAmount\n    });\n\n    dataBuf.write(encoded.toString('hex'), 'hex');\n    infoCell.setHexData(_utils.bytes.toHex(dataBuf));\n    const inputCells = [infoCell, ...senderCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells], this.getCellDepsByCells(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells]));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(capacityProviderAddress), // info lock\n    this.getWitnessPlaceholder(capacityProviderAddress) // capacity provider lock\n    ]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    senderOutput.capacity = senderOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.MintRcUdtPwBuilder = MintRcUdtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PwAdapterSigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nclass PwAdapterSigner {\n  constructor(rawSigner, provider, hasher = new _pwCore.Blake2bHasher()) {\n    this.rawSigner = rawSigner;\n    this.provider = provider;\n    this.hasher = hasher;\n  }\n\n  async signMessages(messages) {\n    const sigs = [];\n\n    const signerLock = _pw.Pw.toPwScript(this.provider.parseToScript(await this.rawSigner.getAddress()));\n\n    for (const item of messages) {\n      if (item.lock.codeHash !== signerLock.codeHash || item.lock.hashType !== signerLock.hashType) continue;\n      const sig = await this.rawSigner.signMessage(item.message);\n      sigs.push(sig);\n    }\n\n    return sigs;\n  }\n\n  async sign(tx) {\n    const messages = this.toMessages(tx);\n    const witnesses = await this.signMessages(messages);\n\n    for (let i = 0; i < messages.length; i++) {\n      const {\n        index\n      } = messages[i];\n\n      if (index < tx.witnessArgs.length && typeof tx.witnessArgs[index] !== 'string') {\n        witnesses[i] = new _pwCore.Reader((0, _pwCore.SerializeWitnessArgs)(_pwCore.normalizers.NormalizeWitnessArgs({ ...tx.witnessArgs[index],\n          lock: witnesses[i]\n        }))).serializeJson();\n      }\n    }\n\n    tx = FillSignedWitnesses(tx, messages, witnesses);\n    return tx;\n  }\n\n  toMessages(tx) {\n    tx.validate();\n\n    if (tx.raw.inputs.length !== tx.raw.inputCells.length) {\n      throw new Error('Input number does not match!');\n    }\n\n    const txHash = new _pwCore.Blake2bHasher().hash(new _pwCore.Reader((0, _pwCore.SerializeRawTransaction)(_pwCore.normalizers.NormalizeRawTransaction(_pwCore.transformers.TransformRawTransaction(tx.raw)))));\n    const messages = [];\n    const used = tx.raw.inputs.map(_input => false);\n\n    for (let i = 0; i < tx.raw.inputs.length; i++) {\n      if (used[i] || tx.witnesses[i] === '0x') {\n        continue;\n      }\n\n      if (i >= tx.witnesses.length) {\n        throw new Error(`Input ${i} starts a new script group, but witness is missing!`);\n      }\n\n      used[i] = true;\n      this.hasher.update(txHash);\n      const firstWitness = new _pwCore.Reader(tx.witnesses[i]);\n      this.hasher.update(serializeBigInt(firstWitness.length()));\n      this.hasher.update(firstWitness);\n\n      for (let j = i + 1; j < tx.raw.inputs.length && j < tx.witnesses.length; j++) {\n        if (tx.raw.inputCells[i].lock.sameWith(tx.raw.inputCells[j].lock)) {\n          used[j] = true;\n          const currentWitness = new _pwCore.Reader(tx.witnesses[j]);\n          this.hasher.update(serializeBigInt(currentWitness.length()));\n          this.hasher.update(currentWitness);\n        }\n      }\n\n      messages.push({\n        index: i,\n        message: this.hasher.digest().serializeJson(),\n        // hex string\n        lock: tx.raw.inputCells[i].lock\n      });\n      this.hasher.reset();\n    }\n\n    return messages;\n  }\n\n}\n\nexports.PwAdapterSigner = PwAdapterSigner;\n\nfunction FillSignedWitnesses(tx, messages, witnesses) {\n  if (messages.length !== witnesses.length) {\n    throw new Error('Invalid number of witnesses!');\n  }\n\n  for (let i = 0; i < messages.length; i++) {\n    tx.witnesses[messages[i].index] = witnesses[i];\n  }\n\n  return tx;\n}\n\nfunction serializeBigInt(i) {\n  const view = new DataView(new ArrayBuffer(8));\n  view.setUint32(0, i, true);\n  return view.buffer;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Secp256k1Signer = exports.Secp256k1Wallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Wallet extends _base.AbstractWallet {\n  constructor(privateKey, provider, lockConfig) {\n    super();\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    this.setDescriptor({\n      features: ['issue-sudt']\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  async tryConnect() {\n    return new Secp256k1Signer(_classPrivateFieldGet(this, _privateKey), this.provider, this.lockConfig);\n  }\n\n}\n\nexports.Secp256k1Wallet = Secp256k1Wallet;\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  static privateKeyToBlake160(privateKey) {\n    return _hd.key.privateKeyToBlake160(privateKey);\n  }\n\n  constructor(privateKey, provider, lockConfig) {\n    super({\n      provider: provider\n    });\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getAddress() {\n    return Promise.resolve(this.provider.parseToAddress({ ...this.lockConfig,\n      args: Secp256k1Signer.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    }));\n  }\n\n  signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(signature);\n  }\n\n}\n\nexports.Secp256k1Signer = Secp256k1Signer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnipassWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _UnipassAdapter = require(\"./unipass/UnipassAdapter\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass UnipassWallet extends _base.AbstractWallet {\n  constructor(provider, adapterConfig) {\n    super();\n    this.provider = provider;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    this.setDescriptor({\n      name: 'UnipassWallet',\n      description: 'Interacting with CKB via an Email',\n      features: ['acp']\n    });\n    this.adapter = new _UnipassAdapter.UnipassRedirectAdapter(adapterConfig !== null && adapterConfig !== void 0 ? adapterConfig : {});\n  }\n\n  async tryConnect() {\n    const unipassLockArgs = await this.adapter.getLockArgs();\n    const provider = this.provider;\n\n    const getAddress = () => {\n      return Promise.resolve(provider.parseToAddress(provider.newScript('UNIPASS', unipassLockArgs)));\n    };\n\n    const signMessage = message => {\n      return Promise.resolve(this.adapter.sign(message));\n    };\n\n    return new class extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n      getAddress() {\n        return getAddress();\n      }\n\n      signMessage(message) {\n        return signMessage(message);\n      }\n\n      seal(tx) {\n        return super.seal(tx);\n      }\n\n    }({\n      provider: this.provider\n    });\n  }\n\n}\n\nexports.UnipassWallet = UnipassWallet;\n\n_defineProperty(UnipassWallet, \"UnipassRedirectAdapter\", _UnipassAdapter.UnipassRedirectAdapter);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pubkeyToLockArgs = pubkeyToLockArgs;\nexports.getRetFromSearchParams = getRetFromSearchParams;\nexports.redirect = redirect;\nexports.UnipassRedirectAdapter = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _utils = require(\"../../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction isUnipassLoginData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'email' in x && 'pubkey' in x;\n}\n\nfunction isUnipassSigData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'sig' in x && 'pubkey' in x;\n}\n\nfunction pubkeyToLockArgs(pubkey) {\n  return _base.utils.ckbHash((0, _utils.hexToBytes)(pubkey).buffer).serializeJson().slice(0, 42);\n}\n\nfunction getRetFromSearchParams(check, replace = false) {\n  const searchParams = new URLSearchParams(location.search.slice(1));\n  const json = searchParams.get('unipass_ret');\n  if (!json) return undefined;\n  const res = JSON.parse(json);\n  if (!check(res.data)) return undefined;\n  if (res.code !== 200) throw new Error(res.info || 'Unknown error when connecting to UniPass');\n  searchParams.delete('unipass_ret');\n  const {\n    pathname,\n    host,\n    protocol\n  } = window.location;\n  const qs = searchParams.toString();\n  const newUrl = `${protocol}//${host}${pathname}${qs ? `?${qs}` : ''}`;\n  if (replace) window.history.replaceState({\n    path: newUrl\n  }, '', newUrl);\n  return res.data;\n}\n\nasync function redirect(href) {\n  window.location.href = href; // wait 60s to avoid error before redirect\n\n  return new Promise(resolve => setTimeout(resolve, 60 * 1000));\n}\n\nclass UnipassRedirectAdapter {\n  constructor(options) {\n    var _options$host, _options$loginDataCac;\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = {\n      host: (_options$host = options.host) !== null && _options$host !== void 0 ? _options$host : 'https://t.unipass.xyz',\n      loginDataCacheKey: (_options$loginDataCac = options.loginDataCacheKey) !== null && _options$loginDataCac !== void 0 ? _options$loginDataCac : '__unipass__'\n    };\n  }\n  /**\n   * check is logged, if `unipass_ret` is found, it will clear the `unipass_ret` and save the unipass login data to cache\n   */\n\n\n  saveLoginInfo() {\n    this.getLoginDataFromUrl() && this.getLoginDataFromCache();\n  }\n\n  hasLoginInfo() {\n    return !!getRetFromSearchParams(isUnipassLoginData);\n  }\n\n  hasSigData() {\n    return !!getRetFromSearchParams(isUnipassSigData);\n  }\n  /**\n   * get unipass lock_args. If it is not retrieved from the cache or url, it will redirect to the unipass page\n   */\n\n\n  async getLockArgs() {\n    var _ref, _this$getLoginDataFro;\n\n    const loginData = (_ref = (_this$getLoginDataFro = this.getLoginDataFromCache()) !== null && _this$getLoginDataFro !== void 0 ? _this$getLoginDataFro : this.getLoginDataFromUrl()) !== null && _ref !== void 0 ? _ref : await this.redirectToLogin();\n    return pubkeyToLockArgs(loginData.pubkey);\n  }\n\n  sign(message) {\n    var _this$getSignatureFro;\n\n    return Promise.resolve((_this$getSignatureFro = this.getSignatureFromUrl()) !== null && _this$getSignatureFro !== void 0 ? _this$getSignatureFro : this.redirectToSign(message));\n  }\n\n  redirectToLogin() {\n    const loginUrl = this.generateUnipassNewUrl(this.config.host, 'login', {\n      success_url: window.location.href\n    });\n    return redirect(loginUrl);\n  }\n\n  redirectToSign(message) {\n    var _this$getLoginDataFro2;\n\n    const pubkey = (_this$getLoginDataFro2 = this.getLoginDataFromCache()) === null || _this$getLoginDataFro2 === void 0 ? void 0 : _this$getLoginDataFro2.pubkey;\n    if (!pubkey) throw new Error('UniPass should login before sign');\n    const signUrl = this.generateUnipassNewUrl(this.config.host, 'sign', {\n      success_url: window.location.href,\n      pubkey,\n      message\n    });\n    return redirect(signUrl);\n  }\n\n  saveLoginDataToCache(data) {\n    localStorage.setItem(this.config.loginDataCacheKey, JSON.stringify(data));\n  }\n\n  getLoginDataFromCache() {\n    const serialized = localStorage.getItem(this.config.loginDataCacheKey);\n    if (serialized == null) return;\n    return JSON.parse(serialized);\n  }\n\n  getLoginDataFromUrl() {\n    const loginData = getRetFromSearchParams(isUnipassLoginData, true);\n    if (!loginData) return;\n    this.saveLoginDataToCache(loginData);\n    return loginData;\n  }\n\n  getSignatureFromUrl() {\n    const signature = getRetFromSearchParams(isUnipassSigData, true);\n    if (!signature) return; // FIXME comment meaning for the 0x01\n\n    return '0x01' + signature.sig.replace('0x', '');\n  }\n\n  generateUnipassNewUrl(host, action, params) {\n    const urlObj = new URL(`${host}/${action.toLowerCase()}`);\n    Object.entries(params).forEach(([key, val]) => urlObj.searchParams.set(key, val));\n    return urlObj.href;\n  }\n\n}\n\nexports.UnipassRedirectAdapter = UnipassRedirectAdapter;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcPwSigner = exports.RcOwnerWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\n/**\n * The RC wallet now only supported Eth identity via MetaMask\n */\nclass RcOwnerWallet extends _base.AbstractWallet {\n  constructor(provider) {\n    super();\n    this.provider = provider;\n    this.setDescriptor({\n      name: 'RcWallet'\n    });\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n  async tryConnect() {\n    const ethProvider = await (0, _PwWallet.detect)(); // request to connect to MetaMask if never been connected\n\n    if (!ethProvider.selectedAddress) {\n      await ethProvider.request({\n        method: 'eth_requestAccounts'\n      });\n    }\n\n    ethProvider.addListener('accountsChanged', signer => {\n      if (signer && signer.length > 0) {\n        super.emitChangedSigner(new RcPwSigner(this.provider, ethProvider));\n        return;\n      }\n\n      super.emitConnectStatusChanged('disconnected');\n    });\n    return new RcPwSigner(this.provider, ethProvider);\n  }\n\n}\n\nexports.RcOwnerWallet = RcOwnerWallet;\n\nclass RcPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(provider, ethProvider) {\n    super({\n      provider\n    });\n    this.provider = provider;\n    this.ethProvider = ethProvider;\n  }\n\n  getAddress() {\n    const rcOwnerLockArgs = _utils.bytes.toHex(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag: _rcLock.RcIdentityFlag.ETH,\n      rc_identity_pubkey_hash: this.ethProvider.selectedAddress,\n      rc_lock_flag: 0\n    }));\n\n    return this.provider.parseToAddress(this.provider.newScript('RC_LOCK', rcOwnerLockArgs));\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _rcLock.RcIdentityFlag.ETH,\n      pubkeyHash: this.ethProvider.selectedAddress\n    };\n  }\n\n  async personalSign(message) {\n    const from = this.ethProvider.selectedAddress;\n    return this.ethProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n  }\n\n  async signMessage(message) {\n    const signedMessage = await this.personalSign(message);\n    let v = Number.parseInt(signedMessage.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const signature = '0x' + signedMessage.slice(2, -2) + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcPwSigner = RcPwSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nObject.keys(_MercuryProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MercuryProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MercuryProvider[key];\n    }\n  });\n});\n\nvar _CkitProvider = require(\"./CkitProvider\");\n\nObject.keys(_CkitProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CkitProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CkitProvider[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryClient = void 0;\n\nvar _clientJs = require(\"@open-rpc/client-js\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryClient {\n  constructor(uri) {\n    _defineProperty(this, \"client\", void 0);\n\n    const transport = new _clientJs.HTTPTransport(uri, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    });\n    this.client = new _clientJs.Client(new _clientJs.RequestManager([transport]));\n  }\n\n  get_cells(payload) {\n    const {\n      search_key,\n      order = 'asc',\n      limit = '0x3e8'\n      /*1_000*/\n      ,\n      after_cursor\n    } = payload;\n    return this.client.request({\n      method: 'get_cells',\n      params: [search_key, order, limit, after_cursor]\n    });\n  }\n\n  get_tip() {\n    return this.client.request({\n      method: 'get_tip'\n    });\n  }\n\n}\n\nexports.MercuryClient = MercuryClient;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryCellProvider = void 0;\n\nclass MercuryCellProvider {\n  constructor(mercury) {\n    this.mercury = mercury;\n  }\n\n  collector(queries) {\n    const {\n      lock,\n      type\n    } = queries;\n    let searchKey;\n\n    if (lock !== undefined) {\n      searchKey = {\n        script: lock,\n        script_type: 'lock'\n      };\n\n      if (type != undefined && type !== 'empty') {\n        searchKey.filter = {\n          script: type\n        };\n      }\n    } else {\n      if (type != undefined && type != 'empty') {\n        searchKey = {\n          script: type,\n          script_type: 'type'\n        };\n      } else {\n        throw new Error(`should specify either type or lock in queries, queries now: ${JSON.stringify(queries)}`);\n      }\n    }\n\n    const queryData = queries.data || '0x';\n    const mercury = this.mercury;\n    return {\n      collect() {\n        return {\n          async *[Symbol.asyncIterator]() {\n            const sizeLimit = 100;\n\n            for (;;) {\n              const res = await mercury.get_cells({\n                search_key: searchKey\n              });\n              const liveCells = res.objects;\n\n              for (const cell of liveCells) {\n                if (queryData === 'any' || queryData === cell.output_data) {\n                  yield {\n                    cell_output: cell.output,\n                    data: cell.output_data,\n                    out_point: cell.out_point,\n                    block_number: cell.block_number\n                  };\n                }\n              }\n\n              if (liveCells.length < sizeLimit) {\n                break;\n              }\n            }\n          }\n\n        };\n      }\n\n    };\n  }\n\n}\n\nexports.MercuryCellProvider = MercuryCellProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CkitProvider = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nclass CkitProvider extends _MercuryProvider.MercuryProvider {\n  get config() {\n    return super.config;\n  }\n\n  init(config) {\n    return super.init(config);\n  }\n\n  getScriptConfig(key) {\n    const scriptConfig = super.getScriptConfig(key);\n    if (!scriptConfig) throw new Error(`cannot find the ${key} script config, maybe init failed`);\n    return scriptConfig;\n  }\n\n  newScript(configKey, args = '0x') {\n    const script = super.newScript(configKey, args);\n    if (!script) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return script;\n  }\n\n  newScriptTemplate(configKey) {\n    const template = this.newScript(configKey);\n    return {\n      code_hash: template.code_hash,\n      hash_type: template.hash_type\n    };\n  }\n\n  newSudtScript(issuer) {\n    const issuerLockHash = typeof issuer === 'string' ? _base.utils.computeScriptHash(this.parseToScript(issuer)) : _base.utils.computeScriptHash(issuer);\n    return this.newScript('SUDT', issuerLockHash);\n  }\n\n  getCellDep(configKey) {\n    const dep = super.getCellDep(configKey);\n    if (!dep) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return dep;\n  }\n\n}\n\nexports.CkitProvider = CkitProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.predefined = void 0;\n\nvar Aggron = _interopRequireWildcard(require(\"./aggron\"));\n\nvar Lina = _interopRequireWildcard(require(\"./lina\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst AggronCkitConfig = {\n  PREFIX: 'ckt',\n  SCRIPTS: Aggron.SCRIPTS\n};\nconst LinaCkitConfig = {\n  PREFIX: 'ckb',\n  SCRIPTS: Lina.SCRIPTS\n};\nconst predefined = {\n  Aggron: AggronCkitConfig,\n  Lina: LinaCkitConfig\n};\nexports.predefined = predefined;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.AGGRON4.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.AGGRON4.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.AGGRON4.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x093ba9759e1c4a79dd81b0a50de83ab108ffe4eb983b05637bf1f5c1834f31eb',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x2',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x87366c3678f14ccbd6647386a18e05ae27c97978d4a6952fb5820cc698263835',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x3',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x124a60cd799e1fbca664196de46b3f7f0ecb7138133dcaea4893c51df5b02be6',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x79f90bb5e892d80dd213439eeab551120eb417678824f282b4ffb5f21bad2e1e',\n    HASH_TYPE: 'type',\n    TX_HASH: '0xe563433a510dfae33252eeef81246e94a6638cdb13ff1a3dc3ac7ab8868b6b26',\n    INDEX: '0x0',\n    DEP_TYPE: 'code'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.LINA.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.LINA.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.LINA.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n  // TODO replace me when deployed\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x1a04142a2a745fb3b7e0e9b61241676c1c94ad8cdacb36f223661130a23fb007',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x614d40a86e1b29a8f4d8d93b9f3b390bf740803fa19a69f1c95716e029ea09b3',\n    HASH_TYPE: 'type'\n  },\n  // TODO deploy the rc lock to test chain\n  //  the config here is fake\n  RC_LOCK: {\n    CODE_HASH: '0x9f3aeaf2fc439549cbc870c653374943af96a0658bd6b51be8d8983183e6f52f',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x56ca53b2a733cc0725a656a433572d8f76d37051b1f2322a9e9d49f39e219c3f',\n    INDEX: '0x0',\n    DEP_TYPE: 'code'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","import { CkitInitOptions, predefined } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useMemo } from 'react';\n\nexport interface LocalConfig {\n  ckitConfig: CkitInitOptions;\n  mecuryRPC: string;\n  ckbRPC: string;\n  nervosExploreTxUrlPrefix: string;\n  nervosExploreAddressUrlPrefix: string;\n  nervosExploreSudtUrlPrefix: string;\n}\n\n// TODO remove random when predefined config is ready\nexport function useConfigStorage(): [LocalConfig, (newValue: LocalConfig) => void, () => void] {\n  const initialConfig = useMemo<LocalConfig>(() => {\n    // TODO check network first\n    const ckitConfig: CkitInitOptions = predefined.Aggron;\n    const mecuryRPC = 'https://testnet.ckb.dev/indexer';\n    const ckbRPC = 'https://testnet.ckb.dev/rpc';\n    const nervosExploreTxUrlPrefix = 'https://explorer.nervos.org/aggron/transaction/';\n    const nervosExploreAddressUrlPrefix = 'https://explorer.nervos.org/aggron/address/';\n    const nervosExploreSudtUrlPrefix = 'https://explorer.nervos.org/aggron/sudt/';\n    return {\n      ckitConfig: ckitConfig,\n      mecuryRPC: mecuryRPC,\n      ckbRPC: ckbRPC,\n      nervosExploreTxUrlPrefix: nervosExploreTxUrlPrefix,\n      nervosExploreAddressUrlPrefix: nervosExploreAddressUrlPrefix,\n      nervosExploreSudtUrlPrefix: nervosExploreSudtUrlPrefix,\n    };\n  }, []);\n\n  return useLocalStorage<LocalConfig>('localConfig', initialConfig);\n}\n","import { CkitProvider } from '@ckitjs/ckit';\nimport { useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { useConfigStorage } from 'hooks/useConfigStorage';\n\nexport const CkitProviderContainer = createContainer<CkitProvider | undefined>(() => {\n  const [ckitProvider, setCkitProvider] = useState<CkitProvider>();\n  const [localConfig] = useConfigStorage();\n  useEffect(() => {\n    const provider = new CkitProvider(localConfig.mecuryRPC, localConfig.ckbRPC);\n    void provider.init({ ...localConfig.ckitConfig }).then(() => setCkitProvider(provider));\n  }, [localConfig]);\n\n  return ckitProvider;\n});\n\nexport function useProvider(): CkitProvider {\n  const provider = CkitProviderContainer.useContainer();\n\n  if (!provider) throw new Error('Cannot find provider, make suer useProvider in CkitProviderContainer');\n\n  return provider;\n}\n","import { CkitProvider, NonAcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableNonAcpPwLockWallet extends NonAcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(Non-ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, AcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableAcpPwLockWallet extends AcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { UnipassWallet, CkitProvider } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableUnipassWallet extends UnipassWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'UniPass' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { AbstractWallet, ConnectStatus } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { autorun, runInAction } from 'mobx';\nimport { useLocalObservable } from 'mobx-react-lite';\nimport { useCallback, useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { CkitProviderContainer } from '../CkitProviderContainer';\nimport { ObservableAcpPwLockWallet, ObservableNonAcpPwLockWallet, ObservableUnipassWallet } from 'wallets';\n\nexport interface WalletConnectError {\n  error: Error;\n  index: number;\n}\n\nfunction useWallet() {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const [currentWalletName, setCurrentWalletName] = useLocalStorage<string | null>('currentWalletName');\n\n  // TODO refactor to Wallets class\n  const wallets = useLocalObservable<AbstractWallet[]>(() => []);\n  const [signerAddress, setSignerAddress] = useState<string>();\n  const [error, setError] = useState<WalletConnectError | null>(null);\n  const [visible, setVisible] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  const setModalVisible = useCallback((visible: boolean) => {\n    setVisible(visible);\n    setError(null);\n  }, []);\n\n  useEffect(() => {\n    if (!ckitProvider) return;\n    // when the provider has changed, wallets should be construct with the new provider\n    runInAction(() => {\n      wallets.splice(0);\n      wallets.push(\n        new ObservableUnipassWallet(ckitProvider),\n        new ObservableNonAcpPwLockWallet(ckitProvider),\n        new ObservableAcpPwLockWallet(ckitProvider),\n      );\n      wallets.find((value) => value.descriptor.name === currentWalletName)?.connect();\n    });\n  }, [ckitProvider]);\n\n  useEffect(\n    () =>\n      autorun(() => {\n        if (!wallets) return;\n        wallets.forEach((wallet, index) => {\n          const onConnectStatusChanged = (connectStatus: ConnectStatus) => {\n            if (connectStatus === 'disconnected') {\n              const remainConnectedWallet = wallets.find((w) => w.connectStatus === 'connected');\n              if (!remainConnectedWallet) {\n                setCurrentWalletName(null);\n              } else {\n                setCurrentWalletName(remainConnectedWallet.descriptor.name);\n              }\n            }\n            if (connectStatus === 'connected') {\n              setModalVisible(false);\n              const connectedWallet = wallets.find((w) => w.descriptor.name === wallet.descriptor.name);\n              if (!connectedWallet) {\n                throw new Error('exception: wallet could not be found');\n              } else {\n                setCurrentWalletName(connectedWallet.descriptor.name);\n              }\n            }\n          };\n          wallet.on('connectStatusChanged', onConnectStatusChanged);\n          wallet.on('error', (err) =>\n            setError({\n              error: err as Error,\n              index: index,\n            }),\n          );\n        });\n      }),\n    [setModalVisible, wallets],\n  );\n\n  const currentWallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n\n  useEffect(() => {\n    autorun(() => {\n      setSignerAddress(undefined);\n      const wallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n      void Promise.resolve(wallet?.signer?.getAddress()).then((address) => {\n        setSignerAddress(address);\n        setIsInitialized(true);\n      });\n    });\n  }, [currentWalletName]);\n\n  return {\n    isInitialized,\n    wallets,\n    currentWallet,\n    setCurrentWalletName,\n    signerAddress,\n    error,\n    setError,\n    visible,\n    setModalVisible,\n  };\n}\n\nexport const WalletContainer = createContainer(useWallet);\n\nexport const displayWalletName = (name: string | undefined): string => {\n  return name || 'unknown';\n};\n","import { UnipassWallet } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\n\ninterface UnipassContext {\n  shouldLogin: boolean;\n  cacheLogin: () => void;\n  shouldSendTx: boolean;\n  cacheTx: (tx: string | null) => void;\n  clearTx: () => void;\n  cachedTx: string | null;\n}\n\nexport function useUnipass(): UnipassContext {\n  const [cachedTx, cacheTx] = useLocalStorage<string | null>('unipassTx');\n  const adapter = new UnipassWallet.UnipassRedirectAdapter({ host: 'https://unipass.xyz' }); // TODO  use the config\n  return {\n    shouldLogin: adapter.hasLoginInfo(),\n    cacheLogin: () => adapter.saveLoginInfo(),\n    shouldSendTx: adapter.hasSigData(),\n    cacheTx,\n    clearTx: () => cacheTx(null),\n    cachedTx,\n  };\n}\n","import { BigNumber } from 'bignumber.js';\n\nexport class AssetAmount {\n  rawAmount: BigNumber;\n  decimals: number;\n\n  constructor(rawAmount: string | BigNumber, decimals: number) {\n    this.rawAmount = new BigNumber(rawAmount);\n    this.decimals = decimals;\n  }\n\n  static fromRaw(rawAmount: string, decimals: number): AssetAmount {\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  static fromHumanize(humanizeAmount: string, decimals: number): AssetAmount {\n    const rawAmount = new BigNumber(humanizeAmount).times(10 ** decimals);\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  toRawString(): string {\n    return this.rawAmount.toString();\n  }\n\n  toHexString(): string {\n    return '0x' + this.rawAmount.toString(16);\n  }\n\n  toHumanizeString(): string {\n    const humanizeAmount = this.rawAmount.times(10 ** -this.decimals);\n    const originDecimalPlaces = humanizeAmount.decimalPlaces();\n    const rounded = humanizeAmount.decimalPlaces(originDecimalPlaces, BigNumber.ROUND_FLOOR);\n    return rounded.toFormat().toString();\n  }\n}\n","export * from './AssetAmount';\n\nexport function hasProp<O, K extends string | number | symbol>(obj: O, key: K): obj is Record<K, unknown> & O {\n  return obj != null && typeof obj === 'object' && key in obj;\n}\n\nexport function truncateMiddle(str: string, start: number, end = start): string {\n  if (!start || !end || start <= 0 || end <= 0) throw new Error('start or end is invalid');\n  if (str.length <= start + end) return str;\n  return str.slice(0, start) + '...' + str.slice(-end);\n}\n\nconst HEX_REGEX = /^0[xX][0-9a-fA-F]*$/;\n\nexport function isValidHexString(value: string): boolean {\n  return HEX_REGEX.test(value);\n}\n","import { Hash } from '@ckb-lumos/base';\nimport { AbstractTransactionBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Modal } from 'antd';\nimport React from 'react';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useConfigStorage } from './useConfigStorage';\nimport { useUnipass } from './useUnipass';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { hasProp } from 'utils';\n\ntype SendTransactionOption = Transaction | ((provider: CkitProvider, signer: EntrySigner) => Promise<Transaction>);\n\nexport function useSendTransaction(): UseMutationResult<{ txHash: Hash }, unknown, SendTransactionOption> {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { currentWallet } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  const { cacheTx, clearTx } = useUnipass();\n\n  return useMutation(\n    async (option: SendTransactionOption) => {\n      if (!currentWallet?.signer) throw new Error('exception: signer undefined');\n      if (!ckitProvider) throw new Error('exception: ckitProvider undefined');\n\n      const tx = typeof option === 'function' ? await option(ckitProvider, currentWallet.signer) : option;\n      if (currentWallet.descriptor.name === 'UniPass') {\n        const serializedTx = AbstractTransactionBuilder.serde.serialize(tx);\n        cacheTx(JSON.stringify(serializedTx));\n      }\n      const txHash = await ckitProvider.sendTransaction(await currentWallet.signer.seal(tx));\n      if (currentWallet.descriptor.name === 'UniPass') {\n        clearTx();\n      }\n      return { txHash: txHash };\n    },\n    {\n      onSuccess({ txHash }) {\n        const href = localConfig.nervosExploreTxUrlPrefix + txHash;\n        Modal.success({\n          title: 'Tx sent',\n          content: (\n            <p>\n              The transaction was sent, check it in&nbsp;\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                explorer\n              </a>\n              <details>\n                <summary>transaction id</summary>\n                {txHash}\n              </details>\n            </p>\n          ),\n        });\n      },\n      onError(error) {\n        const errorMsg: string = hasProp(error, 'message') ? String(error.message) : 'Unknown error';\n        Modal.error({ title: 'Tx failed', content: errorMsg, width: 360 });\n      },\n    },\n  );\n}\n","import { AbstractTransactionBuilder } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { WalletContainer } from 'containers';\nimport { useSendTransaction } from 'hooks/useSendTransaction';\nimport { useUnipass } from 'hooks/useUnipass';\n\nexport const OnIncomplete: React.FC = ({ children }) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { isInitialized, setCurrentWalletName } = WalletContainer.useContainer();\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n  const { shouldLogin, cacheLogin, shouldSendTx, cachedTx } = useUnipass();\n\n  useEffect(() => {\n    void (async () => {\n      if (shouldLogin) {\n        setCurrentWalletName('UniPass');\n        cacheLogin();\n      }\n\n      if (shouldSendTx) {\n        if (!isInitialized) return;\n        if (!cachedTx) throw new Error('Could not find transaction to send');\n        const txToSend = AbstractTransactionBuilder.serde.deserialize(cachedTx);\n        await sendTransaction(txToSend as Transaction).catch(() => setIsLoaded(true));\n      }\n\n      setIsLoaded(true);\n    })();\n  }, [isInitialized]);\n\n  if (!isLoaded) return <Spin />;\n  return <>{children}</>;\n};\n","import styled from 'styled-components';\n\nexport const StyledCardWrapper = styled.div`\n  width: 360px;\n  padding: 24px;\n  margin-bottom: 48px;\n  border-radius: 16px;\n  background: #fff;\n  box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.08);\n`;\n","import { CheckCircleTwoTone } from '@ant-design/icons';\nimport { Button, Space } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nexport const WalletConnectFC: React.FC = () => {\n  const { currentWallet, setModalVisible } = WalletContainer.useContainer();\n\n  if (currentWallet) {\n    return (\n      <Button size=\"small\" onClick={() => setModalVisible(true)}>\n        <Space>\n          {displayWalletName(currentWallet.descriptor.name)}\n          <CheckCircleTwoTone />\n        </Space>\n      </Button>\n    );\n  }\n\n  return (\n    <Button size=\"small\" type=\"primary\" onClick={() => setModalVisible(true)}>\n      Connect\n    </Button>\n  );\n};\n\nexport const WalletConnect = observer(WalletConnectFC);\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { RecipientOptions, helpers, MintSudtBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendIssueTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  operationKind: 'invite' | 'issue';\n}\n\nexport function useSendIssueTx(): UseMutationResult<unknown, unknown, SendIssueTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendIssueTx'], async (input: SendIssueTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      const recipientsParams: RecipientOptions = {\n        recipient: input.recipient,\n        amount: input.amount,\n      };\n      if (input.operationKind === 'invite') {\n        recipientsParams.capacityPolicy = 'createCell';\n        recipientsParams.additionalCapacity = helpers.CkbAmount.fromCkb(1).toHex();\n        recipientsParams.amount = '0';\n      } else {\n        recipientsParams.capacityPolicy = 'findAcp';\n      }\n      const txBuilder = new MintSudtBuilder({ recipients: [recipientsParams] }, provider, await signer.getAddress());\n      return txBuilder.build();\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { CkbTypeScript } from '@ckitjs/base';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useCallback, useMemo } from 'react';\n\nexport interface AssetMeta {\n  symbol: string;\n  decimal: number;\n  script?: CkbTypeScript;\n}\n\nexport function useAssetMetaStorage(): { assetsMeta: AssetMeta[]; addAssetMeta: (newValue: AssetMeta) => void } {\n  const initialAssetMeta = useMemo<AssetMeta[]>(() => [{ symbol: 'ckb', decimal: 8 }], []);\n  const [assetsMeta, setAssetsMeta] = useLocalStorage<AssetMeta[]>('assetMeta', initialAssetMeta);\n  const addAssetMeta = useCallback(\n    (newValue: AssetMeta) => {\n      setAssetsMeta(assetsMeta.concat(newValue));\n    },\n    [assetsMeta, setAssetsMeta],\n  );\n  return { assetsMeta, addAssetMeta };\n}\n","import { Address, Script } from '@ckb-lumos/base';\nimport { useCallback } from 'react';\nimport { useProvider } from 'containers';\nimport { AssetAmount } from 'utils';\n\ninterface ValidationHelper {\n  validateCkbAddress: (value: Address) => string | undefined;\n  validateInviteAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateIssueAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateTransferAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateAmount: (amount: string, decimal: number) => string | undefined;\n}\n\nexport function useFormValidate(): ValidationHelper {\n  const provider = useProvider();\n\n  const validateCkbAddress = useCallback(\n    (value: Address) => {\n      try {\n        provider.parseToScript(value);\n      } catch (e) {\n        return 'invalid ckb address';\n      }\n    },\n    [provider],\n  );\n\n  // TODO refactor with ScriptManager\n  const isLockscriptACP = useCallback(\n    (script: Script) => {\n      const scripts = provider.config.SCRIPTS;\n      return (\n        script.code_hash === scripts.ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.PW_ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.UNIPASS.CODE_HASH\n      );\n    },\n    [provider],\n  );\n\n  const validateACPAddress = useCallback(\n    (value: Address) => {\n      const error = validateCkbAddress(value);\n      if (error) return error;\n      if (!isLockscriptACP(provider.parseToScript(value))) return 'address not anyone can pay';\n    },\n    [provider, validateCkbAddress, isLockscriptACP],\n  );\n\n  const validateInviteAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length > 0) return 'user already invited';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateIssueAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'please invite first';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateTransferAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'no available acp sudt cell for recipient';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateAmount = useCallback((amount: string, decimal: number) => {\n    const assetAmount = AssetAmount.fromHumanize(amount, decimal);\n    if (assetAmount.rawAmount.isNaN()) return 'invalid number';\n    if (assetAmount.rawAmount.lt(1)) return 'at least issue one token';\n  }, []);\n\n  return { validateCkbAddress, validateInviteAddress, validateIssueAddress, validateTransferAddress, validateAmount };\n}\n","import { Button, Col, Empty, Row, Tooltip, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { WalletContainer } from 'containers/WalletContainer';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\nexport const WalletChange = observer(() => {\n  const { signerAddress, setModalVisible } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  if (!signerAddress) return <Empty />;\n  const truncatedAddress = truncateMiddle(signerAddress, 8);\n  const href = localConfig.nervosExploreAddressUrlPrefix + signerAddress;\n  return (\n    <div style={{ marginTop: '32px', marginBottom: '32px' }}>\n      <Row>\n        <Col span={8} offset={6}>\n          <div style={{ textAlign: 'center' }}>\n            <Tooltip title={<AddressTip copyable>{signerAddress}</AddressTip>}>\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                {truncatedAddress}\n              </a>\n            </Tooltip>\n          </div>\n        </Col>\n        <Col span={8} offset={2}>\n          <div style={{ float: 'right' }}>\n            <Button size=\"small\" onClick={() => setModalVisible(true)}>\n              change\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n});\n\nconst AddressTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { SyncOutlined, CheckCircleTwoTone, UsbOutlined } from '@ant-design/icons';\nimport { AbstractWallet } from '@ckitjs/base';\nimport { List, Modal, Space, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nconst ModalBorderWrapper = styled.div`\n  .ant-list-item {\n    padding: 4px 0;\n    margin: 4px 0;\n    border-radius: 8px;\n    border: 1px solid rgba(0, 0, 0, 0);\n\n    &:hover {\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      border-radius: 8px;\n      cursor: pointer;\n    }\n  }\n`;\n\nexport const WalletList = observer(() => {\n  const { wallets, setCurrentWalletName, visible, setError, setModalVisible } = WalletContainer.useContainer();\n\n  return (\n    <Modal\n      closable\n      title={'Choose wallets'}\n      width={312}\n      visible={visible}\n      onCancel={() => setModalVisible(false)}\n      footer={null}\n    >\n      <ModalBorderWrapper>\n        <List\n          pagination={false}\n          dataSource={wallets}\n          renderItem={(item, index) => (\n            <List.Item\n              onClick={() => {\n                setError(null);\n                if (item.connectStatus === 'disconnected') {\n                  item.connect();\n                }\n                if (item.connectStatus === 'connected') {\n                  setCurrentWalletName(item.descriptor.name);\n                  setModalVisible(false);\n                }\n              }}\n            >\n              <WalletListItem wallet={item} index={index} />\n            </List.Item>\n          )}\n        />\n      </ModalBorderWrapper>\n    </Modal>\n  );\n});\n\nexport interface WalletListItemProps {\n  wallet: AbstractWallet;\n  index: number;\n}\n\nexport const WalletListItem = observer((props: WalletListItemProps) => {\n  const { wallet, index } = props;\n  const { error } = WalletContainer.useContainer();\n  if (wallet.connectStatus === 'disconnected') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <UsbOutlined />\n        </Space>\n        {error && error.index === index && <Typography.Text type=\"danger\"> {error.error.message}</Typography.Text>}\n      </div>\n    );\n  }\n  if (wallet.connectStatus === 'connecting') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <SyncOutlined spin />\n        </Space>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Space>\n        {displayWalletName(wallet.descriptor.name)}\n        <CheckCircleTwoTone />\n      </Space>\n    </div>\n  );\n});\n","import { Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletList, WalletChange, WalletConnect } from 'components/Wallet';\n\nexport const AccountView: React.FC = () => {\n  return (\n    <StyledCardWrapper>\n      <div style={{ marginBottom: '24px' }}>\n        <Row>\n          <Col span={12}>\n            <Typography.Title level={3}> Account </Typography.Title>\n          </Col>\n          <Col span={12}>\n            <div style={{ float: 'right', paddingTop: '5px' }}>\n              <WalletConnect />\n            </div>\n          </Col>\n        </Row>\n      </div>\n      <WalletList />\n      <WalletChange />\n    </StyledCardWrapper>\n  );\n};\n","import { LoadingOutlined } from '@ant-design/icons';\nimport { Typography } from 'antd';\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetBalanceProps = Pick<AssetMeta, 'decimal'> & { script: AssetMeta['script'] };\n\nexport const AssetBalance: React.FC<AssetBalanceProps> = (props) => {\n  const { script, decimal } = props;\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!ckitProvider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return ckitProvider.getUdtBalance(signerAddress, script);\n      }\n      return ckitProvider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n  if (query.isError) {\n    return <Typography.Text type=\"danger\">error</Typography.Text>;\n  }\n  if (query.data) {\n    return <Typography.Text>{AssetAmount.fromRaw(query.data, decimal).toHumanizeString()}</Typography.Text>;\n  }\n  return <LoadingOutlined />;\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Button, Col, Input, Modal, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta, useFormValidate, useSendIssueTx, useSendTransferTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetMetaProps = Pick<AssetMeta, 'symbol' | 'decimal'> & { script: AssetMeta['script'] };\n\nexport const SendButton: React.FC<AssetMetaProps> = (props) => {\n  const { script, decimal } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const provider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n\n  const issuableSudtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    if (!signerAddress) throw new Error('excepiton: signerAddress undefined');\n    return provider.newSudtScript(signerAddress);\n  }, [provider, signerAddress]);\n\n  const isMint =\n    props.script?.code_hash === issuableSudtScript.code_hash &&\n    props.script.hash_type === issuableSudtScript.hash_type &&\n    props.script.args === issuableSudtScript.args;\n\n  const buttonContent = isMint ? 'mint' : 'send';\n\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!provider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return provider.getUdtBalance(signerAddress, script);\n      }\n      return provider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n\n  const disabled =\n    !isMint &&\n    (query.isLoading || query.isError || !query.data || AssetAmount.fromRaw(query.data, decimal).rawAmount.eq(0));\n\n  return (\n    <div>\n      <Button type=\"link\" disabled={disabled} onClick={() => setVisible(true)}>\n        {buttonContent}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} assetMeta={props} isMint={isMint} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  assetMeta: AssetMetaProps;\n  isMint: boolean;\n}\n\ninterface ModalFormValues {\n  recipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  recipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, assetMeta, isMint } = props;\n\n  const { validateCkbAddress, validateIssueAddress, validateTransferAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendTransferTransaction, isLoading: isTransferLoading } = useSendTransferTx();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { recipient: '', amount: '' };\n  const title = (isMint ? 'Mint ' : 'Send ') + assetMeta.symbol;\n  const onSubmit = useCallback(\n    (values: ModalFormValues) => {\n      if (isMint) {\n        sendIssueTransaction({\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          operationKind: 'issue',\n        }).then(() => setVisible(false));\n      } else {\n        sendTransferTransaction({\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          script: assetMeta.script,\n        }).then(() => setVisible(false));\n      }\n    },\n    [isMint, sendIssueTransaction, sendTransferTransaction, assetMeta, setVisible],\n  );\n  const loading = isMint ? isIssueLoading : isTransferLoading;\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    const errors: ModalFormErrors = {};\n\n    if (isMint) {\n      // issue sudt\n      if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n      const recipientError = await validateIssueAddress(values.recipient, assetMeta.script);\n      if (recipientError) errors.recipient = recipientError;\n    } else {\n      if (assetMeta.script) {\n        // transfer sudt\n        const recipientError = await validateTransferAddress(values.recipient, assetMeta.script);\n        if (recipientError) errors.recipient = recipientError;\n      } else {\n        // transfer ckb\n        const recipientError = await validateCkbAddress(values.recipient);\n        if (recipientError) errors.recipient = recipientError;\n      }\n    }\n    if (!values.recipient) errors.recipient = 'recipient required';\n\n    const amountError = validateAmount(values.amount, assetMeta.decimal);\n    if (amountError) errors.amount = amountError;\n    if (!values.amount) errors.amount = 'amount required';\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit,\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"recipient\">recipient</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"recipient\" placeholder=\"ckb address\" {...formik.getFieldProps('recipient')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.recipient && formik.errors.recipient && (\n              <Typography.Text type=\"danger\">{formik.errors.recipient}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"amount\">amount:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.amount && formik.errors.amount && (\n              <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={loading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { AcpTransferSudtBuilder, TransferCkbBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { AssetMeta } from './useAssetMetaStorage';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendTransferTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  script: AssetMeta['script'];\n}\n\nexport function useSendTransferTx(): UseMutationResult<unknown, unknown, SendTransferTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendTransferTx'], async (input: SendTransferTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      if (input.script) {\n        const txBuilder = new AcpTransferSudtBuilder(\n          {\n            recipients: [\n              {\n                recipient: input.recipient,\n                sudt: input.script,\n                amount: input.amount,\n                policy: 'findAcp',\n              },\n            ],\n          },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      } else {\n        const txBuilder = new TransferCkbBuilder(\n          { recipients: [{ recipient: input.recipient, amount: input.amount, capacityPolicy: 'createCell' }] },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      }\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport React from 'react';\nimport { AssetBalance } from './AssetBalance';\nimport { SendButton } from './SendButton';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\nexport const AssetList: React.FC = () => {\n  const { assetsMeta } = useAssetMetaStorage();\n  const columns: ColumnsType<AssetMeta> = [\n    {\n      render: (value, record) => <div>{record.symbol}</div>,\n    },\n    {\n      render: (value, record) => <AssetBalance decimal={record.decimal} script={record.script} />,\n    },\n    {\n      render: (value, record) => <SendButton symbol={record.symbol} decimal={record.decimal} script={record.script} />,\n    },\n  ];\n\n  return (\n    <div>\n      <Table size=\"small\" showHeader={false} columns={columns} dataSource={assetsMeta} pagination={{ pageSize: 5 }} />\n    </div>\n  );\n};\n","import { Hash, HashType, HexString } from '@ckb-lumos/base';\nimport { Button, ButtonProps, Col, Input, InputNumber, Modal, Radio, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\nimport { isValidHexString } from 'utils';\n\ninterface AddAssetButtonProps extends ButtonProps {\n  initialAssetMeta?: Partial<ModalFormValues>;\n  buttonContent?: string;\n}\n\nexport const AddAssetButton: React.FC<AddAssetButtonProps> = (props) => {\n  const { initialAssetMeta, buttonContent, ...buttonProps } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  return (\n    <div>\n      <Button {...buttonProps} onClick={() => setVisible(true)}>\n        {buttonContent ? buttonContent : ''}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} initialAssetMeta={initialAssetMeta} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  initialAssetMeta?: Partial<ModalFormValues>;\n}\n\ninterface ModalFormValues {\n  symbol: string;\n  decimal: number;\n  codeHash: Hash;\n  hashType: HashType;\n  args: HexString;\n}\n\ninterface ModalFormErrors {\n  symbol?: string;\n  decimal?: string;\n  codeHash?: string;\n  hashType?: string;\n  args?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, initialAssetMeta } = props;\n\n  const { addAssetMeta } = useAssetMetaStorage();\n\n  const initialValues: ModalFormValues = {\n    symbol: initialAssetMeta?.symbol ? initialAssetMeta.symbol : '',\n    decimal: initialAssetMeta?.decimal ? initialAssetMeta.decimal : 8,\n    codeHash: initialAssetMeta?.codeHash ? initialAssetMeta.codeHash : '',\n    hashType: initialAssetMeta?.hashType ? initialAssetMeta.hashType : 'type',\n    args: initialAssetMeta?.args ? initialAssetMeta.args : '',\n  };\n\n  const validate = (values: ModalFormValues): ModalFormErrors => {\n    const errors: ModalFormErrors = {};\n    if (!values.symbol) {\n      errors.symbol = 'symbol required';\n    }\n    if (values.decimal <= 0) {\n      errors.decimal = 'decimal should be greater than 0';\n    }\n    if (!values.codeHash) {\n      errors.codeHash = 'code hash required';\n    } else {\n      if (!isValidHexString(values.codeHash)) {\n        errors.codeHash = 'code hash invalid hex string';\n      }\n    }\n    if (!values.args) {\n      errors.args = 'args required';\n    } else {\n      if (!isValidHexString(values.args)) {\n        errors.args = 'args invalid hex string';\n      }\n    }\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues, { setSubmitting }) => {\n      const newAssetMeta: AssetMeta = {\n        symbol: values.symbol,\n        decimal: values.decimal,\n        script: {\n          code_hash: values.codeHash,\n          hash_type: values.hashType,\n          args: values.args,\n        },\n      };\n      addAssetMeta(newAssetMeta);\n      setSubmitting(false);\n      setVisible(false);\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title=\"Add asset\" closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"symbol\">symbol:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"symbol\" {...formik.getFieldProps('symbol')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.symbol && formik.errors.symbol && (\n              <Typography.Text type=\"danger\">{formik.errors.symbol}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"decimal\">decimal:</label>\n          </Col>\n          <Col span={16}>\n            <InputNumber\n              id=\"decimal\"\n              onChange={(value) => {\n                void formik.setFieldValue('decimal', value, true);\n              }}\n              onBlur={formik.handleBlur}\n              value={formik.values.decimal}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.decimal && formik.errors.decimal && (\n              <Typography.Text type=\"danger\">{formik.errors.decimal}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"codeHash\">code hash:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"codeHash\" {...formik.getFieldProps('codeHash')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.codeHash && formik.errors.codeHash && (\n              <Typography.Text type=\"danger\">{formik.errors.codeHash}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"hashType\">hash type:</label>\n          </Col>\n          <Col span={16}>\n            <Radio.Group id=\"hashType\" name=\"hashType\" onChange={formik.handleChange} value={formik.values.hashType}>\n              <Radio value=\"type\">type</Radio>\n              <Radio value=\"data\">data</Radio>\n            </Radio.Group>\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.hashType && formik.errors.hashType && (\n              <Typography.Text type=\"danger\">{formik.errors.hashType}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"args\">args:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"args\" {...formik.getFieldProps('args')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.args && formik.errors.args && (\n              <Typography.Text type=\"danger\">{formik.errors.args}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        <Button onClick={formik.submitForm}>submit</Button>\n      </div>\n    </Modal>\n  );\n};\n","import { PlusCircleOutlined } from '@ant-design/icons';\nimport { Col, Empty, Row, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { AddAssetButton, AssetList } from 'components/Assets';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const AssetsView: React.FC = observer(() => {\n  const { signerAddress } = WalletContainer.useContainer();\n  return (\n    <div>\n      <StyledCardWrapper>\n        <div style={{ marginBottom: '12px' }}>\n          <Row>\n            <Col span={12}>\n              <Typography.Title level={3}> Asset </Typography.Title>\n            </Col>\n            <Col span={12}>\n              <div style={{ float: 'right' }}>\n                {signerAddress && (\n                  <AddAssetButton type=\"link\" size=\"large\" icon={<PlusCircleOutlined style={{ fontSize: '24px' }} />} />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </div>\n        <div>\n          {signerAddress && <AssetList />}\n          {!signerAddress && <Empty />}\n        </div>\n      </StyledCardWrapper>\n    </div>\n  );\n});\n","import { utils } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Tooltip, Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\ninterface AssetMetaDisplayProps {\n  symbol: string;\n  decimal: string;\n  script: CkbTypeScript;\n}\n\nexport const AssetMetaDisplay: React.FC<AssetMetaDisplayProps> = (props) => {\n  const { symbol, decimal, script } = props;\n  const [localConfig] = useConfigStorage();\n  const scriptHash = utils.computeScriptHash(script);\n\n  return (\n    <div style={{ marginTop: '24px' }}>\n      <Row>\n        <Col span={7} offset={3}>\n          <Typography.Text>symbol:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{symbol}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>decimal:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{decimal}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>script hash:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Tooltip title={<ScriptTip copyable>{JSON.stringify(script)}</ScriptTip>}>\n            <Typography.Link\n              href={localConfig.nervosExploreSudtUrlPrefix + scriptHash}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {truncateMiddle(scriptHash, 8)}\n            </Typography.Link>\n          </Tooltip>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nconst ScriptTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { Button, Col, Input, Modal, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useFormValidate, useSendIssueTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype OperationKind = 'invite' | 'issue';\n\ninterface IssueOperationProps {\n  assetMeta: AssetMeta;\n}\n\nexport const IssueOperation = observer((props: IssueOperationProps) => {\n  const { assetMeta } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const [operationKind, setOperationKind] = useState<OperationKind>('invite');\n\n  const onClickInvite = () => {\n    setOperationKind('invite');\n    setVisible(true);\n  };\n  const onClickIssue = () => {\n    setOperationKind('issue');\n    setVisible(true);\n  };\n\n  return (\n    <div style={{ marginBottom: '12px' }}>\n      <Row>\n        <Col span={4} offset={4}>\n          <Button onClick={onClickInvite}>invite</Button>\n        </Col>\n        <Col span={4} offset={8}>\n          <Button onClick={onClickIssue}>issue</Button>\n        </Col>\n      </Row>\n      <ModalForm visible={visible} setVisible={setVisible} operationKind={operationKind} assetMeta={assetMeta} />\n    </div>\n  );\n});\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  operationKind: OperationKind;\n  assetMeta: AssetMeta;\n}\n\ninterface ModalFormValues {\n  inviteRecipient: Address;\n  issueRecipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  inviteRecipient?: string;\n  issueRecipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, operationKind, assetMeta } = props;\n\n  const { validateInviteAddress, validateIssueAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { inviteRecipient: '', issueRecipient: '', amount: '' };\n  const title = operationKind === 'invite' ? 'Invite user' : 'Issue ' + assetMeta.symbol;\n  const recipientFieldDisplayName = operationKind === 'invite' ? 'user:' : 'recipient:';\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n    const errors: ModalFormErrors = {};\n\n    if (operationKind === 'invite') {\n      if (!values.inviteRecipient) {\n        errors.inviteRecipient = 'recipient required';\n      } else {\n        const error = await validateInviteAddress(values.inviteRecipient, assetMeta.script);\n        if (error) errors.inviteRecipient = error;\n      }\n    }\n\n    if (operationKind === 'issue') {\n      if (!values.issueRecipient) {\n        errors.issueRecipient = 'recipient required';\n      } else {\n        const recipientError = await validateIssueAddress(values.issueRecipient, assetMeta.script);\n        if (recipientError) errors.issueRecipient = recipientError;\n      }\n      if (!values.amount) {\n        errors.amount = 'amount required';\n      } else {\n        const amountError = validateAmount(values.amount, assetMeta.decimal);\n        if (amountError) errors.amount = amountError;\n      }\n    }\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues) => {\n      sendIssueTransaction({\n        recipient: values.inviteRecipient,\n        amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n        operationKind: operationKind,\n      }).then(() => setVisible(false));\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      {operationKind === 'invite' && (\n        <div>\n          <Row justify=\"center\" align=\"middle\">\n            <Col span={4}>\n              <label htmlFor=\"inviteRecipient\">{recipientFieldDisplayName}</label>\n            </Col>\n            <Col span={16}>\n              <Input id=\"inviteRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('inviteRecipient')} />\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={6}>\n              {formik.touched.inviteRecipient && formik.errors.inviteRecipient && (\n                <Typography.Text type=\"danger\">{formik.errors.inviteRecipient}</Typography.Text>\n              )}\n            </Col>\n          </Row>\n        </div>\n      )}\n\n      {operationKind === 'issue' && (\n        <div>\n          <div>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"issueRecipient\">{recipientFieldDisplayName}</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"issueRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('issueRecipient')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.issueRecipient && formik.errors.issueRecipient && (\n                  <Typography.Text type=\"danger\">{formik.errors.issueRecipient}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n\n          <div style={{ marginTop: '24px' }}>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"amount\">amount:</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.amount && formik.errors.amount && (\n                  <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n        </div>\n      )}\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={isIssueLoading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { CkbTypeScript } from '@ckitjs/base';\nimport React, { useMemo } from 'react';\nimport { AddAssetButton } from '../Assets';\nimport { AssetMetaDisplay } from './AssetMetaDisplay';\nimport { IssueOperation } from './IssueOperation';\nimport { CkitProviderContainer } from 'containers';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\ninterface IssueAreaProps {\n  issuerAddress: string;\n}\n\nexport const IssueArea: React.FC<IssueAreaProps> = (props) => {\n  const { issuerAddress } = props;\n  const provider = CkitProviderContainer.useContainer();\n  const { assetsMeta } = useAssetMetaStorage();\n\n  const udtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    return provider.newSudtScript(issuerAddress);\n  }, [provider, issuerAddress]);\n\n  const assetMeta = useMemo<AssetMeta | undefined>(() => {\n    return assetsMeta.find(\n      (value) =>\n        value.script?.hash_type === udtScript.hash_type &&\n        value.script.code_hash === udtScript.code_hash &&\n        value.script.args === udtScript.args,\n    );\n  }, [udtScript, assetsMeta]);\n\n  const symbol = assetMeta ? assetMeta.symbol : '?';\n  const decimal = assetMeta ? assetMeta.decimal.toString() : '?';\n\n  return (\n    <>\n      <AssetMetaDisplay symbol={symbol} decimal={decimal} script={udtScript} />\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        {!assetMeta && (\n          <AddAssetButton\n            type=\"primary\"\n            buttonContent=\"Add asset info\"\n            initialAssetMeta={{\n              codeHash: udtScript.code_hash,\n              hashType: udtScript.hash_type,\n              args: udtScript.args,\n            }}\n          />\n        )}\n        {assetMeta && <IssueOperation assetMeta={assetMeta} />}\n      </div>\n    </>\n  );\n};\n","import { Empty, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { IssueArea } from 'components/Issue';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const IssueView: React.FC = observer(() => {\n  const { currentWallet, signerAddress } = WalletContainer.useContainer();\n  const isSupportIssue = currentWallet?.checkSupported('issue-sudt');\n\n  return (\n    <div>\n      {isSupportIssue && (\n        <StyledCardWrapper>\n          <div>\n            <Typography.Title level={3}> Issue </Typography.Title>\n          </div>\n          {!signerAddress && <Empty />}\n          {signerAddress && <IssueArea issuerAddress={signerAddress} />}\n        </StyledCardWrapper>\n      )}\n    </div>\n  );\n});\n","import React from 'react';\nimport styled from 'styled-components';\nimport { AccountView } from './Account';\nimport { AssetsView } from './Assets';\nimport { IssueView } from './Issue';\n\nexport const AppView: React.FC = () => {\n  return (\n    <BodyWrapper>\n      <div className=\"app\">\n        <AccountView />\n        <IssueView />\n        <AssetsView />\n      </div>\n    </BodyWrapper>\n  );\n};\n\nconst BodyWrapper = styled.div`\n  padding-bottom: 32px;\n  min-height: 100vh;\n  background: linear-gradient(111.44deg, #a6ded2 0%, #8c99c2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n","import React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { OnIncomplete } from 'components/OnLoaded';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AppView } from 'views';\nimport './App.less';\n\nconst App: React.FC = () => {\n  const queryClient = new QueryClient();\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <CkitProviderContainer.Provider>\n        <WalletContainer.Provider>\n          <OnIncomplete>\n            <AppView />\n          </OnIncomplete>\n        </WalletContainer.Provider>\n      </CkitProviderContainer.Provider>\n    </QueryClientProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    void import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\nexports.asyncSleep = asyncSleep;\nexports.randomHexString = randomHexString;\nexports.nonNullable = nonNullable;\nexports.bytesToHex = bytesToHex;\nexports.hexToBytes = hexToBytes;\nexports.boom = boom;\nexports.asserts = asserts;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}\n\nfunction asyncSleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n/**\n *\n * @param lengthWithOut0x expected length does not contain the beginning 0x\n * @example\n * ```ts\n * randomHexString(1); // 0xa\n * randomHexString(1); // 0x2\n * randomHexString(2); // 0xf8\n * ```\n */\n\n\nfunction randomHexString(lengthWithOut0x) {\n  return '0x' + [...Array(lengthWithOut0x)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n}\n\nfunction nonNullable(x) {\n  if (x == null) throw new Error('Null check failed');\n  return x;\n}\n\nfunction bytesToHex(bytes) {\n  return `0x${[...bytes].map(b => b.toString(16).padStart(2, '0')).join('')}`;\n}\n\nfunction hexToBytes(hex) {\n  hex = hex.startsWith('0x') ? hex.slice(2) : hex;\n  const match = hex.match(/.{1,2}/g);\n  if (!match) throw new Error(`cannot parse ${hex} into Uint8Array`);\n  return Uint8Array.from(match.map(byte => parseInt(byte, 16)));\n}\n\nfunction boom(message) {\n  throw new Error(message);\n}\n\nfunction asserts(condition, err) {\n  if (condition) return;\n\n  if (typeof err === 'function') {\n    throw err();\n  }\n\n  if (typeof err === 'string') boom(err);\n  if (err instanceof Error) throw err;\n  boom();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"debug\", {\n  enumerable: true,\n  get: function () {\n    return _debug.debug;\n  }\n});\nObject.defineProperty(exports, \"createDebugger\", {\n  enumerable: true,\n  get: function () {\n    return _debug.createDebugger;\n  }\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _invariant.invariant;\n  }\n});\nObject.defineProperty(exports, \"unimplemented\", {\n  enumerable: true,\n  get: function () {\n    return _assertion.unimplemented;\n  }\n});\nexports.bytes = void 0;\n\nvar _debug = require(\"./debug\");\n\nvar _invariant = require(\"./invariant\");\n\nvar _assertion = require(\"./assertion\");\n\nvar _bytes = _interopRequireWildcard(require(\"./bytes\"));\n\nexports.bytes = _bytes;\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"serialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.serialize;\n  }\n});\nObject.defineProperty(exports, \"deserialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.deserialize;\n  }\n});\nexports.Pw = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"./pw.serde\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nfunction fromPwCellDep(x) {\n  return {\n    dep_type: x.depType,\n    out_point: {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    }\n  };\n}\n\nfunction toPwCellDep(x) {\n  return new _pwCore.CellDep(x.dep_type === 'dep_group' ? _pwCore.DepType.depGroup : _pwCore.DepType.code, new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index));\n}\n\nfunction fromPwScript(x) {\n  return {\n    code_hash: x.codeHash,\n    args: x.args,\n    hash_type: x.hashType\n  };\n}\n\nfunction toPwScript(x) {\n  return new _pwCore.Script(x.code_hash, x.args, x.hash_type === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction fromPwCell(x) {\n  return {\n    cell_output: {\n      capacity: x.capacity.toHexString(),\n      type: x.type ? fromPwScript(x.type) : undefined,\n      lock: fromPwScript(x.lock)\n    },\n    out_point: x.outPoint ? {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    } : undefined,\n    data: x.getData()\n  };\n}\n\nfunction isLumosCell(x) {\n  if (typeof x !== 'object' || x == null) return false;\n  return 'cell_output' in x;\n}\n\nfunction toPwCell(x) {\n  if (isLumosCell(x)) {\n    return new _pwCore.Cell(new _pwCore.Amount(x.cell_output.capacity, 0), toPwScript(x.cell_output.lock), x.cell_output.type ? toPwScript(x.cell_output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.data);\n  }\n\n  return new _pwCore.Cell(new _pwCore.Amount(x.output.capacity, 0), toPwScript(x.output.lock), x.output.type ? toPwScript(x.output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.output_data);\n}\n\nfunction toPwOutPoint(x) {\n  return new _pwCore.OutPoint(x.tx_hash, x.index);\n}\n/**\n * from: PW => Lumos\n * to: Lumos => PW\n */\n\n\nconst Pw = {\n  fromPwCellDep,\n  toPwCellDep,\n  fromPwCell,\n  toPwCell,\n  toPwScript,\n  fromPwScript,\n  toPwOutPoint\n};\nexports.Pw = Pw;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RecipientSameWithSenderError = exports.NoEnoughUdtError = exports.NoEnoughCkbError = exports.NoAvailableCellError = exports.CkitError = void 0;\n\nclass CkitError extends Error {\n  constructor(metadata, message) {\n    super(message);\n    this.metadata = metadata;\n  }\n\n}\n\nexports.CkitError = CkitError;\n\nclass NoAvailableCellError extends CkitError {\n  constructor(metadata, message = 'Cannot find available cell') {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoAvailableCellError = NoAvailableCellError;\n\nclass NoEnoughCkbError extends CkitError {\n  constructor(metadata, message = `Ckb is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughCkbError = NoEnoughCkbError;\n\nclass NoEnoughUdtError extends CkitError {\n  constructor(metadata, message = `Udt is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughUdtError = NoEnoughUdtError;\n\nclass RecipientSameWithSenderError extends CkitError {\n  constructor(metadata, message = `The recipient and sender cannot be the same one`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.RecipientSameWithSenderError = RecipientSameWithSenderError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ScriptManager\", {\n  enumerable: true,\n  get: function () {\n    return _ScriptManager.ScriptManager;\n  }\n});\nObject.defineProperty(exports, \"AbstractProvider\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.AbstractProvider;\n  }\n});\nObject.defineProperty(exports, \"ProviderConfig\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.ProviderConfig;\n  }\n});\nObject.defineProperty(exports, \"InitOptions\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.InitOptions;\n  }\n});\nObject.defineProperty(exports, \"AbstractWallet\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractWallet.AbstractWallet;\n  }\n});\n\nvar _ScriptManager = require(\"./ScriptManager\");\n\nvar _AbstractProvider = require(\"./AbstractProvider\");\n\nvar _AbstractWallet = require(\"./AbstractWallet\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SerializeRcLockWitnessLock: true,\n  SerializeUdtInfo: true,\n  UdtInfo: true\n};\nObject.defineProperty(exports, \"SerializeRcLockWitnessLock\", {\n  enumerable: true,\n  get: function () {\n    return _rcLock.SerializeRcLockWitnessLock;\n  }\n});\nObject.defineProperty(exports, \"SerializeUdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.SerializeUdtInfo;\n  }\n});\nObject.defineProperty(exports, \"UdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.UdtInfo;\n  }\n});\n\nvar _rcLock = require(\"./generated/rc-lock\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractTransactionBuilder = void 0;\n\nvar _pw = require(\"../helpers/pw\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO migrate to mercury mode\nclass AbstractTransactionBuilder {\n  serialize(tx) {\n    return AbstractTransactionBuilder.serde.serialize(tx);\n  }\n\n}\n\nexports.AbstractTransactionBuilder = AbstractTransactionBuilder;\n\n_defineProperty(AbstractTransactionBuilder, \"serde\", {\n  serialize(deserialized) {\n    return (0, _pw.serialize)(deserialized);\n  },\n\n  deserialize(serialized) {\n    return (0, _pw.deserialize)(serialized);\n  }\n\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.byteLenOfSudt = byteLenOfSudt;\nexports.byteLenOfCkbLiveCell = byteLenOfCkbLiveCell;\nexports.byteLenOfRcCell = byteLenOfRcCell;\n\nfunction byteLenOfSudt(lockArgsByteLen = 20) {\n  return 8\n  /* capacity: u64 */\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* output_data */\n  16\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfCkbLiveCell(lockArgsByteLen = 20) {\n  // prettier-ignore\n  return 8\n  /* capacity: u64 */\n  + 32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  ;\n}\n/**\n *  * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u32\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\n\n\nfunction byteLenOfRcCell(lockArgsByteLen, typeArgsByteLen, dataLen) {\n  const typeScriptLen = typeArgsByteLen ? 32\n  /* code_hash: U256 */\n  + typeArgsByteLen\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  : 0; // prettier-ignore\n\n  return 8\n  /*capacity: u64*/\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  typeScriptLen +\n  /* output_data */\n  dataLen\n  /* data: u128, amount, little-endian */\n  ;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractPwSenderBuilder = void 0;\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _lodash = require(\"lodash\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils = require(\"../../utils\");\n\nvar _config = require(\"../unipass/config\");\n\nclass AbstractPwSenderBuilder extends _pwCore.Builder {\n  constructor(provider) {\n    super(Number(provider.config.MIN_FEE_RATE));\n    this.provider = provider;\n  }\n\n  getCellDepByKey(key) {\n    if (key === 'RC_LOCK') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('RC_LOCK')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SUDT') return [_pw.Pw.toPwCellDep(this.provider.getCellDep('SUDT'))];\n\n    if (key === 'ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'UNIPASS') return (0, _config.getCellDeps)(this.provider.config.PREFIX === 'ckb');\n\n    if (key === 'PW_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('PW_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'PW_NON_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('PW_NON_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SECP256K1_BLAKE160') {\n      return [_pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    return [];\n  }\n\n  getCellDepByScript(script) {\n    // typeid script has no deps\n    if (script.code_hash === '0x00000000000000000000000000000000000000000000000000545950455f4944') return [];\n\n    const keyToTemplate = () => {\n      const foundEntry = Object.entries(this.provider.config.SCRIPTS).find(([, config]) => {\n        return config.CODE_HASH === script.code_hash && config.HASH_TYPE === script.hash_type;\n      });\n      if (foundEntry) return foundEntry[0];\n      return undefined;\n    };\n\n    const key = keyToTemplate();\n    if (!key) throw new Error(`Unknown script, code_hash: ${script.code_hash}, hash_type: ${script.hash_type}`);\n    return this.getCellDepByKey(key);\n  }\n\n  getCellDeps(scripts = []) {\n    return (0, _lodash.uniqWith)(scripts.flatMap(script => this.getCellDepByScript(script)), (dep1, dep2) => dep1.sameWith(dep2));\n  }\n\n  getCellDepsByCells(inputCells, outputCells) {\n    const inputLockAndTypeScripts = inputCells.flatMap(cell => cell.type ? [cell.lock.serializeJson(), cell.type.serializeJson()] : [cell.lock.serializeJson()]);\n    const outputTypeScripts = outputCells.flatMap(cell => cell.type ? [cell.type.serializeJson()] : []);\n    return this.getCellDeps(inputLockAndTypeScripts.concat(outputTypeScripts));\n  } // TODO refactor to ConfigManager\n\n\n  getWitnessPlaceholder(address) {\n    const isTemplateOf = (key, address) => {\n      const script = this.provider.parseToScript(address);\n      const scriptConfig = this.provider.getScriptConfig(key);\n      return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n    };\n\n    if (isTemplateOf('SECP256K1_BLAKE160', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('UNIPASS', address)) {\n      return {\n        lock: '0x' + '0'.repeat(2082),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('RC_LOCK', address)) {\n      const byteLength = (0, _rcLock.SerializeRcLockWitnessLock)({\n        signature: new _ckbJsToolkit.Reader('0x' + '0'.repeat(130))\n      }).byteLength;\n      return {\n        lock: '0x' + '0'.repeat(byteLength * 2),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    (0, _utils.boom)(`Unsupported lock ${address}`);\n  }\n\n}\n\nexports.AbstractPwSenderBuilder = AbstractPwSenderBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractSingleEntrySigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _PwAdapterSigner = require(\"./pw/PwAdapterSigner\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractSingleEntrySigner {\n  constructor(options) {\n    var _options$hasher;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    const hasher = (_options$hasher = options.hasher) !== null && _options$hasher !== void 0 ? _options$hasher : new _pwCore.Blake2bHasher();\n    this.adapter = new _PwAdapterSigner.PwAdapterSigner(this, options.provider, hasher);\n  }\n\n  // TODO refactor to sig entry to adapt mercury\n\n  /**\n   *\n   * @param tx the tx is actually PwTransaction, but may change in the future in order to migrate to mercury\n   */\n  async seal(tx) {\n    const signed = await this.adapter.sign(tx);\n    return _pwCore.transformers.TransformTransaction(signed);\n  }\n\n}\n\nexports.AbstractSingleEntrySigner = AbstractSingleEntrySigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require(\"./utils\");\n\nObject.keys(_utils).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _utils[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _utils[key];\n    }\n  });\n});\n\nvar _struct = require(\"./struct\");\n\nObject.keys(_struct).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _struct[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _struct[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Amount = require(\"./Amount\");\n\nObject.keys(_Amount).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Amount[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _Amount[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detect = detect;\nexports.hashMessage = hashMessage;\nexports.InternalNonAcpPwLockSigner = exports.NonAcpPwLockWallet = exports.AcpPwLockWallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _utils = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction detect() {\n  return (0, _detectProvider.default)().then(() => window.ethereum);\n}\n\nclass AbstractPwWallet extends _base.AbstractWallet {\n  constructor(ckitProvider) {\n    super();\n    this.ckitProvider = ckitProvider;\n\n    _defineProperty(this, \"listener\", addresses => {\n      if (!Array.isArray(addresses)) return;\n\n      if (addresses.length === 0) {\n        this.emitConnectStatusChanged('disconnected');\n        return;\n      }\n\n      this.emitChangedSigner(this.produceSigner());\n    });\n\n    this.setDescriptor({\n      features: this.describeFeatures(),\n      description: 'Interacting with CKB via MetaMask',\n      name: 'NonAcpPwLockWallet'\n    });\n  }\n\n  disconnect() {\n    void detect().then(ethProvider => ethProvider.removeEventListener('accountsChanged', this.listener)).then(() => super.disconnect());\n  }\n\n  async tryConnect() {\n    const ethProvider = await detect();\n    ethProvider.addListener('accountsChanged', this.listener);\n    return ethProvider.enable().then(() => this.produceSigner());\n  }\n\n}\n\nclass AbstractPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n  }\n\n  async signMessage(message) {\n    const ethereumProvider = await detect();\n    const from = ethereumProvider.selectedAddress;\n    const result = await ethereumProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    return '0x' + _pwCore.Platform.eth.toString(16).padStart(2, '0') + result.slice(2, -2) + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nclass AcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['acp'];\n  }\n\n}\n\nexports.AcpPwLockWallet = AcpPwLockWallet;\n\nclass NonAcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n}\n\nexports.NonAcpPwLockWallet = NonAcpPwLockWallet;\n\nfunction hashMessage(message) {\n  // https://github.com/XuJiandong/pw-lock/blob/develop/c/pw_chain_ethereum.h#L43\n  return new _pwCore.Keccak256Hasher().update('\\x19Ethereum Signed Message:\\n32').update((0, _utils.hexToBytes)(message).buffer).digest().serializeJson();\n}\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass InternalNonAcpPwLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils.hexToBytes)(_classPrivateFieldGet(this, _privateKey)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async getAddress() {\n    const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: this.getEthAddress()\n    });\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable(hashMessage(message), _classPrivateFieldGet(this, _privateKey));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n\n    const platform = _pwCore.Platform.eth.toString(16).padStart(2, '0');\n\n    const sig = result.slice(2, -2);\n    return '0x' + platform + sig + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nexports.InternalNonAcpPwLockSigner = InternalNonAcpPwLockSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startsWith0x = startsWith0x;\nexports.rm0x = rm0x;\nexports.pad0x = pad0x;\nexports.safePadZero = safePadZero;\nexports.prependZeroToEvenLength = prependZeroToEvenLength;\nexports.convertEndian = convertEndian;\nexports.formatByteLike = formatByteLike;\nexports.toUnfixedBuffer = toUnfixedBuffer;\nexports.toFixedBuffer = toFixedBuffer;\nexports.toBuffer = toBuffer;\nexports.pipe = void 0;\n\nvar _buffer = require(\"buffer\");\n\n// TODO replace with safe-buffer\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst pipe = (...fn) => {\n  if (fn.length === 1) return fn[0];\n  return fn.reduce((fn1, fn2) => x => fn2(fn1(x)));\n};\n\nexports.pipe = pipe;\n\nfunction startsWith0x(x) {\n  return typeof x === 'string' && x.startsWith('0x');\n}\n\nfunction rm0x(input) {\n  if (startsWith0x(input)) return input.slice(2);\n  return input;\n}\n\nfunction pad0x(input) {\n  if (startsWith0x(input)) return input;\n  return '0x' + input;\n}\n\nfunction safePadZero(input, le, byteSize) {\n  const isEvenLength = input.length % 2 === 0;\n  const isUnfixed = byteSize === undefined;\n  if (isEvenLength && isUnfixed) return input;\n  const padEvenLength = isEvenLength ? 0 : 1; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  const expectedByteSize = isUnfixed ? (input.length + padEvenLength) / 2 : byteSize; // a byte is composed by 2 hex character\n\n  const expectedByteStringLength = expectedByteSize * 2;\n\n  if (le) {\n    return input.slice(0, expectedByteStringLength).padEnd(expectedByteStringLength, '0');\n  }\n\n  return input.slice(-expectedByteStringLength).padStart(expectedByteStringLength, '0');\n}\n\nfunction prependZeroToEvenLength(input) {\n  if (input.length % 2 === 0) return input;\n  return `0${input}`;\n}\n/**\n * convert between little-endian and big-endian bytes.\n * make sure the input is a bytes string of even length and **NOT** starting with 0x\n * @param input\n */\n\n\nfunction convertEndian(input) {\n  if (!input || input.length < 2) return input;\n  const grouped = prependZeroToEvenLength(input).match(/../g); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  return grouped.reverse().join('');\n}\n\n/**\n * A byte is generally composed of two hex characters, and this function ensures that\n * the length of the output byte string used to represent the byte is an even number\n */\nfunction formatByteLike(input, options = {}) {\n  let byteString;\n  if (typeof input === 'string') byteString = rm0x(input);else byteString = _buffer.Buffer.from(input).toString('hex');\n  byteString = safePadZero(byteString, options.le, options.byteSize);\n  const shouldPad0x = !options.rm0x && (options.pad0x || startsWith0x(input));\n  if (options.convertEndian) byteString = convertEndian(byteString);\n  if (shouldPad0x) byteString = pad0x(byteString);\n  return byteString;\n}\n\nfunction toUnfixedBuffer(input) {\n  if (_buffer.Buffer.isBuffer(input) || input instanceof Uint8Array) return _buffer.Buffer.from(input);\n  return _buffer.Buffer.from(formatByteLike(input, {\n    rm0x: true\n  }), 'hex');\n}\n\nfunction toFixedBuffer(buffer, byteSize) {\n  if (byteSize === 0) return _buffer.Buffer.from([]);\n  const unfixed = toUnfixedBuffer(buffer);\n  const unfixedSize = unfixed.length;\n  if (unfixedSize === 0) return _buffer.Buffer.alloc(byteSize);\n  if (unfixedSize === byteSize) return unfixed;\n  if (unfixedSize > byteSize) return unfixed.slice(unfixedSize - byteSize);\n  return _buffer.Buffer.concat([_buffer.Buffer.alloc(byteSize - unfixedSize), unfixed]);\n}\n\nfunction toBuffer(input, byteSize) {\n  if (byteSize === undefined) return toUnfixedBuffer(input);\n  return toFixedBuffer(input, byteSize);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeUTF8Bytes = SerializeUTF8Bytes;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUdtInfo = SerializeUdtInfo;\nexports.SerializeUdtCellData = SerializeUdtCellData;\nexports.UdtCellData = exports.UdtInfo = exports.Byte32 = exports.Uint128 = exports.UTF8Bytes = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass UTF8Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.UTF8Bytes = UTF8Bytes;\n\nfunction SerializeUTF8Bytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass UdtInfo {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for decimals: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new UTF8Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getDecimals() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getName() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSymbol() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getDescription() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtInfo = UdtInfo;\n\nfunction SerializeUdtInfo(value) {\n  const buffers = [];\n  const decimalsView = new DataView(new ArrayBuffer(1));\n  decimalsView.setUint8(0, value.decimals);\n  buffers.push(decimalsView.buffer);\n  buffers.push(SerializeUTF8Bytes(value.name));\n  buffers.push(SerializeUTF8Bytes(value.symbol));\n  buffers.push(SerializeUTF8Bytes(value.description));\n  return serializeTable(buffers);\n}\n\nclass UdtCellData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for version: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new Uint128(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Uint128(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new Byte32(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new UdtInfo(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getCurrentSupply() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMaxSupply() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSudtScriptHash() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUdtInfo() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UdtInfo(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtCellData = UdtCellData;\n\nfunction SerializeUdtCellData(value) {\n  const buffers = [];\n  const versionView = new DataView(new ArrayBuffer(1));\n  versionView.setUint8(0, value.version);\n  buffers.push(versionView.buffer);\n  buffers.push(SerializeUint128(value.current_supply));\n  buffers.push(SerializeUint128(value.max_supply));\n  buffers.push(SerializeByte32(value.sudt_script_hash));\n  buffers.push(SerializeUdtInfo(value.udt_info));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  helpers: true,\n  errors: true,\n  utils: true,\n  predefined: true\n};\nObject.defineProperty(exports, \"predefined\", {\n  enumerable: true,\n  get: function () {\n    return _predefined.predefined;\n  }\n});\nexports.utils = exports.errors = exports.helpers = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nObject.keys(_base).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _base[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _base[key];\n    }\n  });\n});\n\nvar _wallets = require(\"./wallets\");\n\nObject.keys(_wallets).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _wallets[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _wallets[key];\n    }\n  });\n});\n\nvar _providers = require(\"./providers\");\n\nObject.keys(_providers).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _providers[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _providers[key];\n    }\n  });\n});\n\nvar _txBuilders = require(\"./tx-builders\");\n\nObject.keys(_txBuilders).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _txBuilders[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _txBuilders[key];\n    }\n  });\n});\n\nvar _helpers = _interopRequireWildcard(require(\"./helpers\"));\n\nexports.helpers = _helpers;\n\nvar _errors = _interopRequireWildcard(require(\"./errors\"));\n\nexports.errors = _errors;\n\nvar _utils = _interopRequireWildcard(require(\"./utils\"));\n\nexports.utils = _utils;\n\nvar _predefined = require(\"./predefined\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  AbstractTransactionBuilder: true,\n  SerializedTx: true,\n  DeserializedTx: true\n};\nObject.defineProperty(exports, \"AbstractTransactionBuilder\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.AbstractTransactionBuilder;\n  }\n});\nObject.defineProperty(exports, \"SerializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.SerializedTx;\n  }\n});\nObject.defineProperty(exports, \"DeserializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.DeserializedTx;\n  }\n});\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _AcpTransferSudtBuilder = require(\"./AcpTransferSudtBuilder\");\n\nObject.keys(_AcpTransferSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _AcpTransferSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _AcpTransferSudtBuilder[key];\n    }\n  });\n});\n\nvar _TransferCkbBuilder = require(\"./TransferCkbBuilder\");\n\nObject.keys(_TransferCkbBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _TransferCkbBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _TransferCkbBuilder[key];\n    }\n  });\n});\n\nvar _MintSudtBuilder = require(\"./MintSudtBuilder\");\n\nObject.keys(_MintSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _MintSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintSudtBuilder[key];\n    }\n  });\n});\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryProvider = void 0;\n\nvar _rpc = require(\"@ckb-lumos/rpc\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _mercuryClient = require(\"@ckitjs/mercury-client\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _IndexerCellProvider = require(\"./IndexerCellProvider\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryProvider extends _base.AbstractProvider {\n  constructor(mercuryRpc = 'http://127.0.0.1:8116', ckbRpc = 'http://127.0.0.1:8114') {\n    super();\n\n    _defineProperty(this, \"mercury\", void 0);\n\n    _defineProperty(this, \"rpc\", void 0);\n\n    if (mercuryRpc instanceof _mercuryClient.MercuryClient) this.mercury = mercuryRpc;else this.mercury = new _mercuryClient.MercuryClient(mercuryRpc);\n    if (ckbRpc instanceof _rpc.RPC) this.rpc = ckbRpc;else this.rpc = new _rpc.RPC(ckbRpc);\n  }\n\n  async collectCkbLiveCells(address, minimalCapacity) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), // live cell only\n    (0, _rxjs.scan)((acc, next) => ({\n      cells: acc.cells.concat(next),\n      amount: acc.amount + BigInt(next.output.capacity)\n    }), {\n      amount: 0n,\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => acc.amount < BigInt(minimalCapacity), true));\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: 0n,\n        cells: []\n      }\n    });\n\n    if (acc.amount < BigInt(minimalCapacity)) {\n      throw new _errors.NoEnoughCkbError({\n        lock,\n        expected: minimalCapacity,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n  /**\n   * Calculate the capacity of all cells with only locks\n   */\n\n\n  async getCkbLiveCellsBalance(address) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), (0, _rxjs.reduce)((balance, cell) => balance + BigInt(cell.output.capacity), 0n));\n    const balance = await (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: '0x0'\n    });\n    return _utils.bytes.toHex(balance);\n  }\n\n  getTxPoolInfo() {\n    return this.rpc.tx_pool_info();\n  }\n\n  getChainInfo() {\n    return this.rpc.get_blockchain_info();\n  }\n\n  sendTransaction(tx) {\n    return this.rpc.send_transaction(tx);\n  }\n\n  async collectUdtCells(address, udt, minimalAmount) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.scan)((acc, resolvedCell) => ({\n      cells: acc.cells.concat(resolvedCell),\n      amount: acc.amount + BigInt((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34)))\n    }), {\n      amount: 0n,\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => acc.amount < BigInt(minimalAmount), true) // inclusive last to ensure cells are enough\n    );\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: 0n,\n        cells: []\n      }\n    });\n\n    if (acc.amount < BigInt(minimalAmount)) {\n      throw new _errors.NoEnoughUdtError({\n        lock,\n        expected: minimalAmount,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  getUdtBalance(address, udt) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.reduce)((acc, resolvedCell) => acc + BigInt((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))), 0n));\n    return (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: 0n\n    }).then(x => _utils.bytes.toHex(x));\n  }\n\n  async waitForTransactionCommitted(txHash, options = {}) {\n    const {\n      pollIntervalMs = 1000,\n      timeoutMs = 120000\n    } = options;\n    const start = Date.now();\n    let result = null;\n\n    while (Date.now() - start <= timeoutMs) {\n      var _tx$tx_status;\n\n      const tx = await this.rpc.get_transaction(txHash);\n\n      if ((tx === null || tx === void 0 ? void 0 : (_tx$tx_status = tx.tx_status) === null || _tx$tx_status === void 0 ? void 0 : _tx$tx_status.status) === 'committed') {\n        result = tx.transaction;\n        break;\n      }\n\n      await (0, _utils2.asyncSleep)(pollIntervalMs);\n    }\n\n    const rpcTip = Number(await this.rpc.get_tip_block_number());\n\n    while (Date.now() - start <= timeoutMs) {\n      const mercuryTip = await this.mercury.get_tip();\n      if (Number(mercuryTip.block_number) >= rpcTip) break;\n      await (0, _utils2.asyncSleep)(pollIntervalMs);\n    }\n\n    return result;\n  }\n\n  asIndexerCellProvider() {\n    return new _IndexerCellProvider.MercuryCellProvider(this.mercury);\n  }\n\n}\n\nexports.MercuryProvider = MercuryProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractProvider = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _typeid = require(\"./typeid\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractProvider {\n  constructor() {\n    _defineProperty(this, \"initialized\", false);\n\n    _defineProperty(this, \"_config\", void 0);\n  }\n\n  get config() {\n    if (!this._config) throw new Error('Cannot find the config, maybe provider is not initialied');\n    return this._config;\n  }\n\n  getScriptConfig(key) {\n    return this.config.SCRIPTS[key];\n  }\n\n  newScript(configKey, args) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      code_hash: scriptConfig.CODE_HASH,\n      args,\n      hash_type: scriptConfig.HASH_TYPE\n    };\n  }\n\n  newTypeIdScript(args) {\n    return {\n      code_hash: '0x00000000000000000000000000000000000000000000000000545950455f4944',\n      // Buffer.from('TYPE_ID')\n      hash_type: 'type',\n      args\n    };\n  }\n\n  generateTypeIdScript(input, outputIndex) {\n    return (0, _typeid.generateTypeIdScript)(input, outputIndex);\n  }\n\n  getCellDep(configKey) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      dep_type: scriptConfig.DEP_TYPE,\n      out_point: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n  }\n\n  findCellDepByAddress(address) {\n    const script = this.parseToScript(address);\n    const scriptConfigs = Object.values(this.config.SCRIPTS);\n    if (scriptConfigs == null) return undefined;\n    const index = scriptConfigs.findIndex(scriptConfig => (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.CODE_HASH) === script.code_hash && (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.HASH_TYPE) === script.hash_type);\n    const found = scriptConfigs[index];\n    if (!found) return undefined;\n    return {\n      dep_type: found.DEP_TYPE,\n      out_point: {\n        tx_hash: found.TX_HASH,\n        index: found.INDEX\n      }\n    };\n  }\n\n  findCellDepByScript(script) {\n    return this.findCellDepByAddress(this.parseToAddress(script));\n  }\n  /**\n   * init the provider\n   * @param config if no config is provided, {@link getChainInfo} will be called to check the network type, and using the predefined config\n   */\n\n\n  async init(config) {\n    if (this.initialized) return;\n\n    if (config) {\n      const MIN_FEE_RATE = config.MIN_FEE_RATE ? config.MIN_FEE_RATE : (await this.getTxPoolInfo()).min_fee_rate;\n      this._config = { ...config,\n        MIN_FEE_RATE\n      };\n    } else {\n      const chainInfo = await this.getChainInfo();\n      const isMainnet = chainInfo.chain === 'ckb';\n      const txPoolInfo = await this.getTxPoolInfo();\n      this._config = isMainnet ? { ..._configManager.predefined.LINA,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      } : { ..._configManager.predefined.AGGRON4,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      };\n    }\n\n    this.initialized = true;\n  }\n\n  parseToAddress(script) {\n    return (0, _helpers.generateAddress)(script, {\n      config: this.config\n    });\n  }\n  /**\n   * parse an {@link Address} to script, throws an error when parsing failed\n   * @param address\n   */\n\n\n  parseToScript(address) {\n    return (0, _helpers.parseAddress)(address, {\n      config: this.config\n    });\n  }\n\n}\n\nexports.AbstractProvider = AbstractProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateTypeIdScript = generateTypeIdScript;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nfunction toArrayBuffer(buf) {\n  const ab = new ArrayBuffer(buf.length);\n  const view = new Uint8Array(ab);\n\n  for (let i = 0; i < buf.length; ++i) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    view[i] = buf[i];\n  }\n\n  return ab;\n}\n\nfunction toBigUInt64LE(num) {\n  num = BigInt(num);\n  const buf = (0, _easyByte.toBuffer)('', 8);\n  buf.writeBigUInt64LE(num);\n  return toArrayBuffer(buf);\n}\n\nfunction generateTypeID(input, outputIndex) {\n  const outPointBuf = _base.core.SerializeCellInput(_ckbJsToolkit.normalizers.NormalizeCellInput(input));\n\n  const outputIndexBuf = toBigUInt64LE(outputIndex);\n  const ckbHasher = new _base.utils.CKBHasher();\n  ckbHasher.update(outPointBuf);\n  ckbHasher.update(outputIndexBuf);\n  return ckbHasher.digestHex();\n}\n\nfunction generateTypeIdScript(input, outputIndex) {\n  const args = generateTypeID(input, outputIndex);\n  return {\n    code_hash: '0x00000000000000000000000000000000000000000000000000545950455f4944',\n    // Buffer.from('TYPE_ID')\n    hash_type: 'type',\n    args\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createField = createField;\nexports.createFixedStruct = createFixedStruct;\nexports.U128BE = exports.U128LE = exports.I128BE = exports.I128LE = exports.U64BE = exports.U64LE = exports.I64BE = exports.I64LE = exports.U32BE = exports.U32LE = exports.I32BE = exports.I32LE = exports.U16BE = exports.U16LE = exports.I16BE = exports.I16LE = exports.U8 = exports.I8 = exports.FixedStruct = void 0;\n\nvar _buffer = require(\"buffer\");\n\nvar _utils = require(\"./utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction createReader(fnName) {\n  return function (buf, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    return buf[fnName](offset);\n  };\n}\n\nfunction createWriter(fnName) {\n  return function (buf, val, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    buf[fnName](val, offset);\n  };\n}\n\nfunction createField(byteWidth, read, write) {\n  return {\n    byteWidth,\n    read,\n    write\n  };\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nclass FixedStruct {\n  constructor(fields = []) {\n    _defineProperty(this, \"fields\", void 0);\n\n    _defineProperty(this, \"byteWidth\", void 0);\n\n    this.fields = fields;\n    this.byteWidth = fields.reduce((width, field) => width + field[1].byteWidth, 0);\n  }\n\n  field(name, field) {\n    const namedField = [name, field];\n    return new FixedStruct(this.fields.concat([namedField]));\n  }\n\n  decode(buf) {\n    const result = {};\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      const parsed = field.read(buf, offset);\n      offset += field.byteWidth;\n      result[name] = parsed;\n    });\n    return result;\n  }\n\n  encode(obj) {\n    const byteSize = this.fields.reduce((size, [, field]) => field.byteWidth + size, 0);\n\n    const buf = _buffer.Buffer.alloc(byteSize);\n\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      field.write(buf, obj[name], offset);\n      offset += field.byteWidth;\n    });\n    return buf;\n  }\n\n}\n\nexports.FixedStruct = FixedStruct;\n\nfunction bigIntReader(byteSize, le, signed) {\n  return function (buf, offset = 0) {\n    const byteString = (0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n      byteSize,\n      // when the bytes are marked as little endian,\n      // in order to parse the bytes as the correct BigInt,\n      // the bytes need to be reversed to big endian\n      convertEndian: le,\n      // padding a 0x to ensure that it is considered by BigInt as hexadecimal\n      pad0x: true\n    });\n    const val = BigInt(byteString);\n    if (!signed) return val;\n    const signMask = 1n << BigInt(byteSize * 8 - 1);\n    const valueMask = signMask - 1n;\n    if ((signMask & val) === 0n) return val;\n    return (valueMask & val) - signMask;\n  };\n}\n\nfunction bigIntWriter(byteSize, le, signed) {\n  return function (buf, input, offset = 0) {\n    let val = input;\n    if (signed && val < 0n) val = (1n << BigInt(byteSize * 8)) + val;\n    const byteString = (0, _utils.formatByteLike)(val.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nconst I8 = createField(1, createReader('readInt8'), createWriter('writeInt8'));\nexports.I8 = I8;\nconst U8 = createField(1, createReader('readUInt8'), createWriter('writeUInt8'));\nexports.U8 = U8;\nconst I16LE = createField(2, createReader('readInt16LE'), createWriter('writeInt16LE'));\nexports.I16LE = I16LE;\nconst I16BE = createField(2, createReader('readInt16BE'), createWriter('writeInt16BE'));\nexports.I16BE = I16BE;\nconst U16LE = createField(2, createReader('readUInt16LE'), createWriter('writeUInt16LE'));\nexports.U16LE = U16LE;\nconst U16BE = createField(2, createReader('readUInt16BE'), createWriter('writeUInt16BE'));\nexports.U16BE = U16BE;\nconst I32LE = createField(4, createReader('readInt32LE'), createWriter('writeInt32LE'));\nexports.I32LE = I32LE;\nconst I32BE = createField(4, createReader('readInt32BE'), createWriter('writeInt32BE'));\nexports.I32BE = I32BE;\nconst U32LE = createField(4, createReader('readUInt32LE'), createWriter('writeUInt32LE'));\nexports.U32LE = U32LE;\nconst U32BE = createField(4, createReader('readUInt32BE'), createWriter('writeUInt32BE'));\nexports.U32BE = U32BE;\nconst I64LE = createField(8, createReader('readBigInt64LE'), createWriter('writeBigInt64LE'));\nexports.I64LE = I64LE;\nconst I64BE = createField(8, createReader('readBigInt64BE'), createWriter('writeBigInt64BE'));\nexports.I64BE = I64BE;\nconst U64LE = createField(8, createReader('readBigUInt64LE'), createWriter('writeBigUInt64LE'));\nexports.U64LE = U64LE;\nconst U64BE = createField(8, createReader('readBigUInt64BE'), createWriter('writeBigUInt64BE'));\nexports.U64BE = U64BE;\nconst I128LE = createField(16, bigIntReader(16, true, true), bigIntWriter(16, true, true));\nexports.I128LE = I128LE;\nconst I128BE = createField(16, bigIntReader(16, false, true), bigIntWriter(16, false, true));\nexports.I128BE = I128BE;\nconst U128LE = createField(16, bigIntReader(16, true, false), bigIntWriter(16, true, false));\nexports.U128LE = U128LE;\nconst U128BE = createField(16, bigIntReader(16, false, false), bigIntWriter(16, false, false));\n/**\n * Create a coder for a fixed-length byte\n * that can easily convert a string of bytes into a plain JS object\n * @example\n * ```typescript\n * const struct = createFixedStruct()\n *  .field('messageType', U8)\n *  .field('messageContent', U64);\n *\n * const parsed = struct.decode(Buffer.from('...'))\n * console.log(parsed) // { messageType: 0, messageContent: ...}\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\n\nexports.U128BE = U128BE;\n\nfunction createFixedStruct() {\n  return new FixedStruct();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractWallet = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractWallet {\n  // do **NOT** change the value manually\n  // use {@link getConnectStatus} instead of\n  // do **NOT** change the value manually\n  // use {@link getSigner} instead of\n  constructor() {\n    _defineProperty(this, \"descriptor\", {\n      name: 'Unknown Wallet',\n      features: [],\n      description: 'an unknown wallet'\n    });\n\n    _defineProperty(this, \"connectStatus\", 'disconnected');\n\n    _defineProperty(this, \"signer\", void 0);\n\n    _defineProperty(this, \"emitter\", void 0);\n\n    _defineProperty(this, \"on\", (event, listener) => {\n      this.emitter.on(event, listener);\n    });\n\n    this.emitter = new _eventemitter.default();\n  }\n\n  connect() {\n    const isDisconnected = this.connectStatus === 'disconnected';\n    (0, _utils.invariant)(isDisconnected, `[${this.descriptor.name}]: Do not reconnect the wallet`);\n    if (!isDisconnected) return;\n    this.emitConnectStatusChanged('connecting');\n    void this.tryConnect().then(signer => {\n      this.emitConnectStatusChanged('connected');\n      this.emitChangedSigner(signer);\n    }, e => {\n      this.emitError(e);\n      this.emitConnectStatusChanged('disconnected');\n    });\n  }\n\n  disconnect() {\n    this.emitConnectStatusChanged('disconnected');\n    this.emitter.removeAllListeners();\n  }\n\n  checkSupported(feature) {\n    return this.descriptor.features.includes(feature);\n  }\n\n  getConnectStatus() {\n    return this.connectStatus;\n  }\n\n  getSigner() {\n    return this.signer;\n  }\n\n  emitConnectStatusChanged(status) {\n    this.connectStatus = status;\n    this.emitter.emit('connectStatusChanged', status);\n  }\n\n  emitChangedSigner(signer) {\n    this.signer = signer;\n    this.emitter.emit('signerChanged', signer);\n  }\n\n  emitError(error = new Error(`An unknown error occurred in the ${this.descriptor.name}`)) {\n    this.emitter.emit('error', error);\n  }\n\n  setDescriptor(descriptor) {\n    const {\n      name = this.descriptor.name,\n      features = this.descriptor.features,\n      description = this.descriptor.description\n    } = descriptor;\n    this.descriptor = {\n      name,\n      features,\n      description\n    };\n  }\n\n}\n\nexports.AbstractWallet = AbstractWallet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDebugger = createDebugger;\nexports.debug = void 0;\n\nvar _debug = _interopRequireDefault(require(\"debug\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createDebugger(namespace) {\n  if (!namespace.startsWith('ckit-')) namespace = 'ckit-' + namespace;\n  return (0, _debug.default)(namespace);\n}\n\nconst debug = (0, _debug.default)('ckit');\nexports.debug = debug;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _tinyInvariant.default;\n  }\n});\n\nvar _tinyInvariant = _interopRequireDefault(require(\"tiny-invariant\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.concat = concat;\nexports.rm0x = rm0x;\nexports.toHex = toHex;\n\n// hex string without 0x\n// string starts with 0x\n\n/**\n * concat byte-like into a hex string\n *\n * @example\n * concat('00', '01') // 0x0001\n * @param hexes\n */\nfunction concat(...hexes) {\n  return '0x' + hexes.map(padToEven).join('');\n}\n/**\n * pad a big-endian string to even length\n * @param x\n */\n\n\nfunction padToEven(x) {\n  x = rm0x(toHex(x));\n  if (x.length % 2 !== 0) x = '0' + x;\n  return x;\n}\n\nfunction rm0x(hexStringLike) {\n  if (hexStringLike.startsWith('0x')) hexStringLike = hexStringLike.slice(2);\n  return hexStringLike;\n}\n\nfunction toHex(x) {\n  if (typeof x === 'number') {\n    if (x < 0 || !Number.isInteger(x)) throw new Error(`Cannot parse ${x} to a hex string`);\n    return '0x' + x.toString(16);\n  }\n\n  if (typeof x === 'string') {\n    if (x.startsWith('0x')) return x;\n    return '0x' + x;\n  }\n\n  if (typeof x === 'bigint') {\n    return '0x' + x.toString(16);\n  }\n\n  if (Buffer.isBuffer(x)) {\n    return '0x' + x.toString('hex');\n  }\n\n  throw new Error(`Cannot parse ${x} to a hex string`);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  internal: true,\n  AcpPwLockWallet: true,\n  NonAcpPwLockWallet: true,\n  RcOwnerWallet: true,\n  RcPwSigner: true\n};\nObject.defineProperty(exports, \"AcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.AcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"NonAcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.NonAcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"RcOwnerWallet\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcOwnerWallet;\n  }\n});\nObject.defineProperty(exports, \"RcPwSigner\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcPwSigner;\n  }\n});\nexports.internal = void 0;\n\nvar _RcInternalSigner = require(\"./RcInternalSigner\");\n\nvar _Secp256k1Wallet = require(\"./Secp256k1Wallet\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nvar _UnipassWallet = require(\"./UnipassWallet\");\n\nObject.keys(_UnipassWallet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _UnipassWallet[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _UnipassWallet[key];\n    }\n  });\n});\n\nvar _RcOwnerWallet = require(\"./RcOwnerWallet\");\n\nconst internal = {\n  RcSecp256k1Signer: _RcInternalSigner.RcSecp256k1Signer,\n  Secp256k1Signer: _Secp256k1Wallet.Secp256k1Signer,\n  RcEthSigner: _RcInternalSigner.RcEthSigner\n};\nexports.internal = internal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcEthSigner = exports.RCLockSigner = exports.RC_MODE = exports.RcSecp256k1Signer = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _txBuilders = require(\"../tx-builders\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\n/**\n * Please do not use this signer directly in a production environment,\n * as it can only be used for testing purposes.\n */\nclass RcSecp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey))\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: _utils.bytes.concat(this.getRcIdentity().flag, this.getRcIdentity().pubkeyHash, 0)\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcSecp256k1Signer = RcSecp256k1Signer;\nlet RC_MODE;\nexports.RC_MODE = RC_MODE;\n\n(function (RC_MODE) {\n  RC_MODE[\"PUBKEY_HASH\"] = \"00\";\n  RC_MODE[\"ACP\"] = \"02\";\n})(RC_MODE || (exports.RC_MODE = RC_MODE = {}));\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass RCLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    };\n  }\n\n  async getAddress() {\n    return await this.getAddressByMode(RC_MODE.ACP);\n  }\n\n  async getAddressByMode(mode) {\n    let pubKeykHash = _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2));\n\n    if (pubKeykHash.startsWith('0x')) {\n      pubKeykHash = pubKeykHash.substring(2);\n    }\n\n    let rc_args = `0x00${pubKeykHash}00`;\n\n    switch (mode) {\n      case RC_MODE.ACP:\n        rc_args = `0x00${pubKeykHash}020000`;\n        break;\n\n      case RC_MODE.PUBKEY_HASH:\n        rc_args = `0x00${pubKeykHash}00`;\n        break;\n\n      default:\n        return Promise.reject(new Error('invalid rc mode'));\n    }\n\n    const config = await this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RCLockSigner = RCLockSigner;\n\nvar _privateKey3 = /*#__PURE__*/new WeakMap();\n\nclass RcEthSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey3.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey3, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.ETH,\n      pubkeyHash: this.getEthAddress()\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    const ethAddress = this.getEthAddress();\n    const rc_args = `0x01${ethAddress.substring(2)}00`;\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils2.hexToBytes)(_classPrivateFieldGet(this, _privateKey3)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable((0, _PwWallet.hashMessage)(message), _classPrivateFieldGet(this, _privateKey3));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const sig = result.slice(2, -2);\n    const signature = '0x' + sig + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcEthSigner = RcEthSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeIdentity = SerializeIdentity;\nexports.SerializeRcIdentity = SerializeRcIdentity;\nexports.SerializeRcIdentityOpt = SerializeRcIdentityOpt;\nexports.SerializeRcLockWitnessLock = SerializeRcLockWitnessLock;\nexports.SerializeScriptVec = SerializeScriptVec;\nexports.SerializeScriptVecOpt = SerializeScriptVecOpt;\nexports.SerializeXudtWitnessInput = SerializeXudtWitnessInput;\nexports.SerializeRCRule = SerializeRCRule;\nexports.SerializeRCCellVec = SerializeRCCellVec;\nexports.SerializeRCData = SerializeRCData;\nexports.SerializeSmtProof = SerializeSmtProof;\nexports.SerializeSmtProofEntry = SerializeSmtProofEntry;\nexports.SerializeSmtProofEntryVec = SerializeSmtProofEntryVec;\nexports.SerializeSmtUpdateItem = SerializeSmtUpdateItem;\nexports.SerializeSmtUpdateItemVec = SerializeSmtUpdateItemVec;\nexports.SerializeSmtUpdateAction = SerializeSmtUpdateAction;\nexports.SerializeXudtData = SerializeXudtData;\nexports.SerializeUint32 = SerializeUint32;\nexports.SerializeUint64 = SerializeUint64;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUint256 = SerializeUint256;\nexports.SerializeBytes = SerializeBytes;\nexports.SerializeBytesOpt = SerializeBytesOpt;\nexports.SerializeBytesVec = SerializeBytesVec;\nexports.SerializeByte32Vec = SerializeByte32Vec;\nexports.SerializeScriptOpt = SerializeScriptOpt;\nexports.SerializeProposalShortId = SerializeProposalShortId;\nexports.SerializeUncleBlockVec = SerializeUncleBlockVec;\nexports.SerializeTransactionVec = SerializeTransactionVec;\nexports.SerializeProposalShortIdVec = SerializeProposalShortIdVec;\nexports.SerializeCellDepVec = SerializeCellDepVec;\nexports.SerializeCellInputVec = SerializeCellInputVec;\nexports.SerializeCellOutputVec = SerializeCellOutputVec;\nexports.SerializeScript = SerializeScript;\nexports.SerializeOutPoint = SerializeOutPoint;\nexports.SerializeCellInput = SerializeCellInput;\nexports.SerializeCellOutput = SerializeCellOutput;\nexports.SerializeCellDep = SerializeCellDep;\nexports.SerializeRawTransaction = SerializeRawTransaction;\nexports.SerializeTransaction = SerializeTransaction;\nexports.SerializeRawHeader = SerializeRawHeader;\nexports.SerializeHeader = SerializeHeader;\nexports.SerializeUncleBlock = SerializeUncleBlock;\nexports.SerializeBlock = SerializeBlock;\nexports.SerializeCellbaseWitness = SerializeCellbaseWitness;\nexports.SerializeWitnessArgs = SerializeWitnessArgs;\nexports.WitnessArgs = exports.CellbaseWitness = exports.Block = exports.UncleBlock = exports.Header = exports.RawHeader = exports.Transaction = exports.RawTransaction = exports.CellDep = exports.CellOutput = exports.CellInput = exports.OutPoint = exports.Script = exports.CellOutputVec = exports.CellInputVec = exports.CellDepVec = exports.ProposalShortIdVec = exports.TransactionVec = exports.UncleBlockVec = exports.ProposalShortId = exports.ScriptOpt = exports.Byte32Vec = exports.BytesVec = exports.BytesOpt = exports.Bytes = exports.Uint256 = exports.Byte32 = exports.Uint128 = exports.Uint64 = exports.Uint32 = exports.XudtData = exports.SmtUpdateAction = exports.SmtUpdateItemVec = exports.SmtUpdateItem = exports.SmtProofEntryVec = exports.SmtProofEntry = exports.SmtProof = exports.RCData = exports.RCCellVec = exports.RCRule = exports.XudtWitnessInput = exports.ScriptVecOpt = exports.ScriptVec = exports.RcLockWitnessLock = exports.RcIdentityOpt = exports.RcIdentity = exports.Identity = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass Identity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 21);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 21;\n  }\n\n}\n\nexports.Identity = Identity;\n\nfunction SerializeIdentity(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 21);\n  return buffer;\n}\n\nclass RcIdentity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Identity(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProofEntryVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getIdentity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Identity(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProofs() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProofEntryVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcIdentity = RcIdentity;\n\nfunction SerializeRcIdentity(value) {\n  const buffers = [];\n  buffers.push(SerializeIdentity(value.identity));\n  buffers.push(SerializeSmtProofEntryVec(value.proofs));\n  return serializeTable(buffers);\n}\n\nclass RcIdentityOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new RcIdentity(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.RcIdentityOpt = RcIdentityOpt;\n\nfunction SerializeRcIdentityOpt(value) {\n  if (value) {\n    return SerializeRcIdentity(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass RcLockWitnessLock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new RcIdentityOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getSignature() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getRcIdentity() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RcIdentityOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getPreimage() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcLockWitnessLock = RcLockWitnessLock;\n\nfunction SerializeRcLockWitnessLock(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.signature));\n  buffers.push(SerializeRcIdentityOpt(value.rc_identity));\n  buffers.push(SerializeBytesOpt(value.preimage));\n  return serializeTable(buffers);\n}\n\nclass ScriptVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Script(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.ScriptVec = ScriptVec;\n\nfunction SerializeScriptVec(value) {\n  return serializeTable(value.map(item => SerializeScript(item)));\n}\n\nclass ScriptVecOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new ScriptVec(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptVecOpt = ScriptVecOpt;\n\nfunction SerializeScriptVecOpt(value) {\n  if (value) {\n    return SerializeScriptVec(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass XudtWitnessInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new ScriptVecOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRawExtensionData() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new ScriptVecOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getExtensionData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtWitnessInput = XudtWitnessInput;\n\nfunction SerializeXudtWitnessInput(value) {\n  const buffers = [];\n  buffers.push(SerializeScriptVecOpt(value.raw_extension_data));\n  buffers.push(SerializeBytesVec(value.extension_data));\n  return serializeTable(buffers);\n}\n\nclass RCRule {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSmtRoot() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getFlags() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RCRule.size());\n    this.getSmtRoot().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.RCRule = RCRule;\n\nfunction SerializeRCRule(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.smt_root)), 0);\n  view.setUint8(0 + Byte32.size(), value.flags);\n  return array.buffer;\n}\n\nclass RCCellVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.RCCellVec = RCCellVec;\n\nfunction SerializeRCCellVec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass RCData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      assertDataLength(this.view.byteLength, \">4\");\n    }\n\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      case 1:\n        new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  unionType() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return \"RCRule\";\n\n      case 1:\n        return \"RCCellVec\";\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  value() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      case 1:\n        return new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n}\n\nexports.RCData = RCData;\n\nfunction SerializeRCData(value) {\n  switch (value.type) {\n    case \"RCRule\":\n      {\n        const itemBuffer = SerializeRCRule(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 0, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    case \"RCCellVec\":\n      {\n        const itemBuffer = SerializeRCCellVec(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 1, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    default:\n      throw new Error(`Invalid type: ${value.type}`);\n  }\n}\n\nclass SmtProof {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtProof = SmtProof;\n\nfunction SerializeSmtProof(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass SmtProofEntry {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for mask: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getMask() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntry = SmtProofEntry;\n\nfunction SerializeSmtProofEntry(value) {\n  const buffers = [];\n  const maskView = new DataView(new ArrayBuffer(1));\n  maskView.setUint8(0, value.mask);\n  buffers.push(maskView.buffer);\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass SmtProofEntryVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new SmtProofEntry(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new SmtProofEntry(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntryVec = SmtProofEntryVec;\n\nfunction SerializeSmtProofEntryVec(value) {\n  return serializeTable(value.map(item => SerializeSmtProofEntry(item)));\n}\n\nclass SmtUpdateItem {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getKey() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getPackedValues() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, SmtUpdateItem.size());\n    this.getKey().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.SmtUpdateItem = SmtUpdateItem;\n\nfunction SerializeSmtUpdateItem(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.key)), 0);\n  view.setUint8(0 + Byte32.size(), value.packed_values);\n  return array.buffer;\n}\n\nclass SmtUpdateItemVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * SmtUpdateItem.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new SmtUpdateItem(this.view.buffer.slice(4 + i * SmtUpdateItem.size(), 4 + (i + 1) * SmtUpdateItem.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtUpdateItemVec = SmtUpdateItemVec;\n\nfunction SerializeSmtUpdateItemVec(value) {\n  const array = new Uint8Array(4 + SmtUpdateItem.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeSmtUpdateItem(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * SmtUpdateItem.size());\n  }\n\n  return array.buffer;\n}\n\nclass SmtUpdateAction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new SmtUpdateItemVec(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getUpdates() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new SmtUpdateItemVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtUpdateAction = SmtUpdateAction;\n\nfunction SerializeSmtUpdateAction(value) {\n  const buffers = [];\n  buffers.push(SerializeSmtUpdateItemVec(value.updates));\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass XudtData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Bytes(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtData = XudtData;\n\nfunction SerializeXudtData(value) {\n  const buffers = [];\n  buffers.push(SerializeBytes(value.lock));\n  buffers.push(SerializeBytesVec(value.data));\n  return serializeTable(buffers);\n}\n\nclass Uint32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  toBigEndianUint32() {\n    return this.view.getUint32(0, false);\n  }\n\n  toLittleEndianUint32() {\n    return this.view.getUint32(0, true);\n  }\n\n  static size() {\n    return 4;\n  }\n\n}\n\nexports.Uint32 = Uint32;\n\nfunction SerializeUint32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 4);\n  return buffer;\n}\n\nclass Uint64 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 8);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 8;\n  }\n\n}\n\nexports.Uint64 = Uint64;\n\nfunction SerializeUint64(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 8);\n  return buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Uint256 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Uint256 = Uint256;\n\nfunction SerializeUint256(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Bytes = Bytes;\n\nfunction SerializeBytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass BytesOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Bytes(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.BytesOpt = BytesOpt;\n\nfunction SerializeBytesOpt(value) {\n  if (value) {\n    return SerializeBytes(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass BytesVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Bytes(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.BytesVec = BytesVec;\n\nfunction SerializeBytesVec(value) {\n  return serializeTable(value.map(item => SerializeBytes(item)));\n}\n\nclass Byte32Vec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Byte32Vec = Byte32Vec;\n\nfunction SerializeByte32Vec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass ScriptOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Script(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptOpt = ScriptOpt;\n\nfunction SerializeScriptOpt(value) {\n  if (value) {\n    return SerializeScript(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass ProposalShortId {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 10);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 10;\n  }\n\n}\n\nexports.ProposalShortId = ProposalShortId;\n\nfunction SerializeProposalShortId(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 10);\n  return buffer;\n}\n\nclass UncleBlockVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new UncleBlock(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new UncleBlock(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlockVec = UncleBlockVec;\n\nfunction SerializeUncleBlockVec(value) {\n  return serializeTable(value.map(item => SerializeUncleBlock(item)));\n}\n\nclass TransactionVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Transaction(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Transaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.TransactionVec = TransactionVec;\n\nfunction SerializeTransactionVec(value) {\n  return serializeTable(value.map(item => SerializeTransaction(item)));\n}\n\nclass ProposalShortIdVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * ProposalShortId.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new ProposalShortId(this.view.buffer.slice(4 + i * ProposalShortId.size(), 4 + (i + 1) * ProposalShortId.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.ProposalShortIdVec = ProposalShortIdVec;\n\nfunction SerializeProposalShortIdVec(value) {\n  const array = new Uint8Array(4 + ProposalShortId.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeProposalShortId(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * ProposalShortId.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellDepVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellDep.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellDep(this.view.buffer.slice(4 + i * CellDep.size(), 4 + (i + 1) * CellDep.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellDepVec = CellDepVec;\n\nfunction SerializeCellDepVec(value) {\n  const array = new Uint8Array(4 + CellDep.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellDep(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellDep.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellInputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellInput.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellInput(this.view.buffer.slice(4 + i * CellInput.size(), 4 + (i + 1) * CellInput.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellInputVec = CellInputVec;\n\nfunction SerializeCellInputVec(value) {\n  const array = new Uint8Array(4 + CellInput.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellInput(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellInput.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellOutputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new CellOutput(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new CellOutput(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutputVec = CellOutputVec;\n\nfunction SerializeCellOutputVec(value) {\n  return serializeTable(value.map(item => SerializeCellOutput(item)));\n}\n\nclass Script {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Byte32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n\n    if (offsets[2] - offsets[1] !== 1) {\n      throw new Error(`Invalid offset for hash_type: ${offsets[1]} - ${offsets[2]}`);\n    }\n\n    new Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCodeHash() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHashType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getArgs() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Script = Script;\n\nfunction SerializeScript(value) {\n  const buffers = [];\n  buffers.push(SerializeByte32(value.code_hash));\n  const hashTypeView = new DataView(new ArrayBuffer(1));\n  hashTypeView.setUint8(0, value.hash_type);\n  buffers.push(hashTypeView.buffer);\n  buffers.push(SerializeBytes(value.args));\n  return serializeTable(buffers);\n}\n\nclass OutPoint {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getTxHash() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getIndex() {\n    return new Uint32(this.view.buffer.slice(0 + Byte32.size(), 0 + Byte32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, OutPoint.size());\n    this.getTxHash().validate(compatible);\n    this.getIndex().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + Uint32.size();\n  }\n\n}\n\nexports.OutPoint = OutPoint;\n\nfunction SerializeOutPoint(value) {\n  const array = new Uint8Array(0 + Byte32.size() + Uint32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.tx_hash)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.index)), 0 + Byte32.size());\n  return array.buffer;\n}\n\nclass CellInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSince() {\n    return new Uint64(this.view.buffer.slice(0, 0 + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getPreviousOutput() {\n    return new OutPoint(this.view.buffer.slice(0 + Uint64.size(), 0 + Uint64.size() + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellInput.size());\n    this.getSince().validate(compatible);\n    this.getPreviousOutput().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint64.size() + OutPoint.size();\n  }\n\n}\n\nexports.CellInput = CellInput;\n\nfunction SerializeCellInput(value) {\n  const array = new Uint8Array(0 + Uint64.size() + OutPoint.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint64(value.since)), 0);\n  array.set(new Uint8Array(SerializeOutPoint(value.previous_output)), 0 + Uint64.size());\n  return array.buffer;\n}\n\nclass CellOutput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint64(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Script(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new ScriptOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCapacity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint64(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getLock() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ScriptOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutput = CellOutput;\n\nfunction SerializeCellOutput(value) {\n  const buffers = [];\n  buffers.push(SerializeUint64(value.capacity));\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeScriptOpt(value.type_));\n  return serializeTable(buffers);\n}\n\nclass CellDep {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getOutPoint() {\n    return new OutPoint(this.view.buffer.slice(0, 0 + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  getDepType() {\n    return this.view.getUint8(0 + OutPoint.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellDep.size());\n    this.getOutPoint().validate(compatible);\n  }\n\n  static size() {\n    return 0 + OutPoint.size() + 1;\n  }\n\n}\n\nexports.CellDep = CellDep;\n\nfunction SerializeCellDep(value) {\n  const array = new Uint8Array(0 + OutPoint.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeOutPoint(value.out_point)), 0);\n  view.setUint8(0 + OutPoint.size(), value.dep_type);\n  return array.buffer;\n}\n\nclass RawTransaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new CellDepVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Byte32Vec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new CellInputVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new CellOutputVec(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[5], offsets[6]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getCellDeps() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellDepVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHeaderDeps() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32Vec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputs() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellInputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputs() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellOutputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputsData() {\n    const start = 24;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RawTransaction = RawTransaction;\n\nfunction SerializeRawTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeUint32(value.version));\n  buffers.push(SerializeCellDepVec(value.cell_deps));\n  buffers.push(SerializeByte32Vec(value.header_deps));\n  buffers.push(SerializeCellInputVec(value.inputs));\n  buffers.push(SerializeCellOutputVec(value.outputs));\n  buffers.push(SerializeBytesVec(value.outputs_data));\n  return serializeTable(buffers);\n}\n\nclass Transaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new RawTransaction(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRaw() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RawTransaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getWitnesses() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Transaction = Transaction;\n\nfunction SerializeTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeRawTransaction(value.raw));\n  buffers.push(SerializeBytesVec(value.witnesses));\n  return serializeTable(buffers);\n}\n\nclass RawHeader {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getVersion() {\n    return new Uint32(this.view.buffer.slice(0, 0 + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getCompactTarget() {\n    return new Uint32(this.view.buffer.slice(0 + Uint32.size(), 0 + Uint32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getTimestamp() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getNumber() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getEpoch() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getParentHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getTransactionsRoot() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getProposalsHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getUnclesHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getDao() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RawHeader.size());\n    this.getVersion().validate(compatible);\n    this.getCompactTarget().validate(compatible);\n    this.getTimestamp().validate(compatible);\n    this.getNumber().validate(compatible);\n    this.getEpoch().validate(compatible);\n    this.getParentHash().validate(compatible);\n    this.getTransactionsRoot().validate(compatible);\n    this.getProposalsHash().validate(compatible);\n    this.getUnclesHash().validate(compatible);\n    this.getDao().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size();\n  }\n\n}\n\nexports.RawHeader = RawHeader;\n\nfunction SerializeRawHeader(value) {\n  const array = new Uint8Array(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint32(value.version)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.compact_target)), 0 + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.timestamp)), 0 + Uint32.size() + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.number)), 0 + Uint32.size() + Uint32.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeUint64(value.epoch)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.parent_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.transactions_root)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.proposals_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.uncles_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.dao)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  return array.buffer;\n}\n\nclass Header {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getRaw() {\n    return new RawHeader(this.view.buffer.slice(0, 0 + RawHeader.size()), {\n      validate: false\n    });\n  }\n\n  getNonce() {\n    return new Uint128(this.view.buffer.slice(0 + RawHeader.size(), 0 + RawHeader.size() + Uint128.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, Header.size());\n    this.getRaw().validate(compatible);\n    this.getNonce().validate(compatible);\n  }\n\n  static size() {\n    return 0 + RawHeader.size() + Uint128.size();\n  }\n\n}\n\nexports.Header = Header;\n\nfunction SerializeHeader(value) {\n  const array = new Uint8Array(0 + RawHeader.size() + Uint128.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeRawHeader(value.raw)), 0);\n  array.set(new Uint8Array(SerializeUint128(value.nonce)), 0 + RawHeader.size());\n  return array.buffer;\n}\n\nclass UncleBlock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlock = UncleBlock;\n\nfunction SerializeUncleBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass Block {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new UncleBlockVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new TransactionVec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUncles() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UncleBlockVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getTransactions() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new TransactionVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Block = Block;\n\nfunction SerializeBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeUncleBlockVec(value.uncles));\n  buffers.push(SerializeTransactionVec(value.transactions));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass CellbaseWitness {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Script(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMessage() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellbaseWitness = CellbaseWitness;\n\nfunction SerializeCellbaseWitness(value) {\n  const buffers = [];\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeBytes(value.message));\n  return serializeTable(buffers);\n}\n\nclass WitnessArgs {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.WitnessArgs = WitnessArgs;\n\nfunction SerializeWitnessArgs(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.lock));\n  buffers.push(SerializeBytesOpt(value.input_type));\n  buffers.push(SerializeBytesOpt(value.output_type));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertToRcIdentityFlag = convertToRcIdentityFlag;\nexports.convertToSudtSupplyInfo = convertToSudtSupplyInfo;\nexports.convertToSudtInfo = convertToSudtInfo;\nexports.RcSupplyLockHelper = exports.RcLockFlag = exports.RcIdentityFlag = exports.RcSupplyOutputData = exports.RcSupplyLockArgs = exports.RcIdentityLockArgs = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nfunction Bytes(byteWidth) {\n  return {\n    byteWidth,\n\n    read(buf, offset = 0) {\n      return (0, _easyByte.formatByteLike)(buf.slice(offset, offset + byteWidth), {\n        pad0x: true\n      });\n    },\n\n    write(buf, val, offset = 0) {\n      const byte = (0, _easyByte.formatByteLike)(val, {\n        rm0x: true\n      });\n      buf.write(byte, offset, byteWidth, 'hex');\n    }\n\n  };\n}\n\nconst RcIdentityLockArgs = (0, _easyByte.createFixedStruct)().field('rc_identity_flag', (0, _easyByte.createField)(1, (buf, offset) => convertToRcIdentityFlag(buf.readUInt8(offset)), _easyByte.U8.write)).field('rc_identity_pubkey_hash', Bytes(20)).field('rc_lock_flag', _easyByte.U8);\nexports.RcIdentityLockArgs = RcIdentityLockArgs;\nconst RcSupplyLockArgs = RcIdentityLockArgs.field('type_id_hash', Bytes(32));\nexports.RcSupplyLockArgs = RcSupplyLockArgs;\nconst RcSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LE).field('max_supply', _easyByte.U128LE).field('sudt_script_hash', Bytes(32));\n/**\n * {@link https://github.com/XuJiandong/ckb-c-stdlib/blob/4eca989f8a/ckb_identity.h#L45-L51 RC Identity}\n */\n\nexports.RcSupplyOutputData = RcSupplyOutputData;\nlet RcIdentityFlag;\nexports.RcIdentityFlag = RcIdentityFlag;\n\n(function (RcIdentityFlag) {\n  RcIdentityFlag[RcIdentityFlag[\"CKB\"] = 0] = \"CKB\";\n  RcIdentityFlag[RcIdentityFlag[\"ETH\"] = 1] = \"ETH\";\n})(RcIdentityFlag || (exports.RcIdentityFlag = RcIdentityFlag = {}));\n\nfunction convertToRcIdentityFlag(flag) {\n  const num = Number(_utils.bytes.toHex(flag));\n  if (num === RcIdentityFlag.CKB) return RcIdentityFlag.CKB;\n  if (num === RcIdentityFlag.ETH) return RcIdentityFlag.ETH;\n  throw new Error(`Unknown RC Identity flag: ${num}`);\n}\n\nlet RcLockFlag;\nexports.RcLockFlag = RcLockFlag;\n\n(function (RcLockFlag) {\n  RcLockFlag[RcLockFlag[\"ROOT\"] = 1] = \"ROOT\";\n  RcLockFlag[RcLockFlag[\"ACP_MASK\"] = 2] = \"ACP_MASK\";\n  RcLockFlag[RcLockFlag[\"SINCE_MASK\"] = 4] = \"SINCE_MASK\";\n  RcLockFlag[RcLockFlag[\"SUPPLY_MASK\"] = 8] = \"SUPPLY_MASK\";\n})(RcLockFlag || (exports.RcLockFlag = RcLockFlag = {}));\n\nfunction convertToSudtSupplyInfo(outputData) {\n  const {\n    current_supply,\n    max_supply,\n    version\n  } = RcSupplyOutputData.decode((0, _easyByte.toBuffer)(outputData));\n  const fixedDataLen = RcSupplyOutputData.fields.reduce((acc, field) => acc + field[1].byteWidth, 0);\n  const udtInfo = new _rc_udt_info.UdtInfo(new _ckbJsToolkit.Reader(_utils.bytes.toHex(outputData.slice(2\n  /*0x*/\n  + fixedDataLen * 2))));\n  return {\n    version: _utils.bytes.toHex(version),\n    currentSupply: _utils.bytes.toHex(current_supply),\n    maxSupply: _utils.bytes.toHex(max_supply),\n    description: Buffer.from(udtInfo.getDescription().raw()).toString(),\n    symbol: Buffer.from(udtInfo.getSymbol().raw()).toString(),\n    name: Buffer.from(udtInfo.getName().raw()).toString(),\n    decimals: udtInfo.getDecimals()\n  };\n}\n/**\n * convert a resolved rc-udt cell to {@link SudtInfo}\n * @param cell\n */\n\n\nfunction convertToSudtInfo(cell) {\n  const {\n    rc_identity_flag,\n    rc_identity_pubkey_hash,\n    type_id_hash\n  } = RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(cell.output.lock.args));\n  return {\n    rcIdentity: {\n      flag: rc_identity_flag,\n      pubkeyHash: rc_identity_pubkey_hash\n    },\n    udtId: type_id_hash,\n    ...convertToSudtSupplyInfo(cell.output_data)\n  };\n}\n\nclass RcSupplyLockHelper {\n  constructor(indexer, config) {\n    this.indexer = indexer;\n    this.config = config;\n  }\n\n  async listCreatedInfoCells(options) {\n    const {\n      rcIdentity,\n      udtId\n    } = options;\n    const mercury = this.indexer;\n    const searchKey = {\n      script: { ...this.config.rcLock,\n        args: _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, RcLockFlag.SUPPLY_MASK, udtId !== null && udtId !== void 0 ? udtId : '')\n      },\n      script_type: 'lock'\n    };\n    const supplyCells$ = (0, _rxjs.from)(mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _operators.expand)(res => mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _operators.takeWhile)(res => res.objects.length > 0), (0, _operators.concatMap)(res => res.objects), (0, _operators.toArray)());\n    return (0, _rxjs.lastValueFrom)(supplyCells$);\n  }\n\n  async listCreatedSudt(options) {\n    const infoCells = await this.listCreatedInfoCells(options);\n    return infoCells.map(convertToSudtInfo);\n  }\n\n  newRcSupplyLockScript({\n    rcIdentity,\n    udtId\n  }) {\n    return { ...this.config.rcLock,\n      args: _utils.bytes.toHex(RcSupplyLockArgs.encode({\n        rc_identity_flag: rcIdentity.flag,\n        rc_identity_pubkey_hash: rcIdentity.pubkeyHash,\n        rc_lock_flag: RcLockFlag.SUPPLY_MASK,\n        type_id_hash: udtId\n      }))\n    };\n  }\n  /**\n   * generate sudt script which was issued by a rc_lock_supply\n   * @param options\n   */\n\n\n  newSudtScript({\n    rcIdentity,\n    udtId\n  }) {\n    const infoLock = this.newRcSupplyLockScript({\n      rcIdentity,\n      udtId\n    });\n    return { ...this.config.sudtType,\n      args: _base.utils.computeScriptHash(infoLock)\n    };\n  }\n\n}\n\nexports.RcSupplyLockHelper = RcSupplyLockHelper;"],"sourceRoot":""}